\documentclass{article}
\usepackage{amsmath, amsthm, amssymb, amsfonts, mathrsfs, mathtools,enumitem, stmaryrd,physics, cancel, tikz-cd, graphicx, float, booktabs}
\usetikzlibrary{arrows}
\usepackage{geometry}
    \geometry{
        a4paper,
        left = 40mm,
        top = 20mm,
        right = 40mm,
        bottom = 30mm
    }
\setlength{\parindent}{0pt}

\theoremstyle{definition}
\newtheorem{problem}{Problem}
\newtheorem{solution}{Solution}
\newtheorem*{example}{Example}
\newtheorem*{exercise}{Exercise}
\newtheorem*{definition}{Definition}
\newtheorem{theorem}{Theorem}
\numberwithin{theorem}{subsection}
\newtheorem*{theorem*}{Theorem}
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem*{proposition*}{Proposition}
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem*{lemma*}{Lemma}
\newtheorem{corollary}[theorem]{Corollary}
\newtheorem*{corollary*}{Corollary}
\newtheorem*{remark}{Remark}

\title{M702 ANT}
\author{Thanic Nur Samin}
\date{\vspace{-5ex}}

\begin{document}
    \maketitle

    \section*{Tuesday, 1/14/2025}

    \begin{abstract}
        Chapter 1: Local Class Field Theory (LCFT).

        Chapter 2: \(p\)-divisible groups (eg LT formal groups) and associated Galois representations \(V\) and the \underline{Hodge-Tate Decomposition} of \(V \otimes_{\mathbb{Q}_p}\mathbb{C}_p\) and also the diagonal action of \(\mathscr{G}_K\).

        \underline{Tate}: \(p\)-divisible groups.

        Chapter 3: Sen theory, Fontaine's period rings \((\varphi, \Gamma)\)-modules.


    \end{abstract}
    
    \section{Local Class Field Theory (LCFT)}

    \subsection{Lubin Tate Theory}

    [N] Neukirch, Alg. NT
    
    [S] Serre, Local Class Field Theory (Cassels-Frohlich)

    [LT] Lubin, Tate Formal complex multiplication

    \(K =\)  non-archimedean local field (locally compact) \(\supset \mathcal{O} = \mathcal{O}_K =\) valuation ring \(\supset P_K =\) valuation ideal.

    Residue Field \(k = \mathcal{O} / P_K\), \(\operatorname{char} (k) = p > 0, q \coloneqq \vert k \vert = p^f\).

    Normalized Valuation \(v = v_K : K \twoheadrightarrow \mathbb{Z} \cup \{ \infty \}, \vert a \vert = q^{-v(a)}\).
    
    \(U_K = \mathcal{O}_K^\times\).

    \begin{definition}
        \(e(x) \in \mathcal{O} [[x]]\) (a formal power series) is called a Lubin-Tate (LT) series for the uniformizer \(\pi\) (fixed) if the following conditions are fulfilled:

        \begin{itemize}
            \item \(e(x) \equiv \pi x \mod\deg 2\).
            \item \(e(x) \equiv x^q \mod \pi\). 
        \end{itemize} 
    \end{definition}

    Set \(\mathscr{E}_\pi =\) set of LT series for the uniformizer \(\pi\).

    Recall: Let \(R\) be any \(\mathcal{O}\)-algebra (\(i: \mathcal{O}\to R\) ring homomorphism).

    A formal \(\mathcal{O}\)-module over \(R\) is a \(1\)-dimensional commutative formal group \(F(x,y) \in R[[x,y]]\) over \(R\) (some people call it a formal group law) together with a unital (sending \(1\) to \(1\)) ring homomorphism:

    \[
        [\cdot]_F : \mathcal{O} \to \operatorname{End}_R(F) = \{ f(x) \in R[[x]] \mid f(0)=0, f(F(x,y))=F(f(x),f(y)) \}
    \]

    such that \(\forall a\in \mathcal{O}: [a]_F (x) = i(a)x \mod\deg 2\).

    We have the following properties:

    \(F(x,y) = x + y + \text{higher order terms}\)

    Associativity: \(F(x,F(y,z))=F(F(x,y),z)\)

    Commutativity: \(F(x,y) = F(y,x)\).

    \(\implies\exists! \iota (x) \in R[[x]]: F(x,\iota(x)) = 0\). Also, \(\iota (x) = -x + \text{higher order terms}\).

    If \(R\) is a local \(\mathcal{O}\)-algebra with maximal ideal \(M\) \((i ^{-1} (M) = P_K, k = \mathcal{O} / P_K \to R / M)\) then a formal \(\mathcal{O}\)-module \(F\) over \(R\) is callled a LT \(\mathcal{O}\)-module over \(R\) if in addition it is a formal \(\mathcal{O}\)-module and for any uniformizer \(\pi\) of \(K\): \([\pi]_F (x) \equiv x^q \mod M\).

    \begin{remark}
        If \(F\) is a LT \(\mathcal{O}\)-module over \(\mathcal{O}\) [\(i: \mathcal{O} \xrightarrow{\operatorname{id}} \mathcal{O}\)] then \([\pi]_F (x) \in \mathscr{E}_{\pi}\) [meaning it is a Lubin Tate series] for any uniformizer \(\pi\). 
    \end{remark}

    \begin{example}
        \begin{enumerate}[label=\arabic*)]
            \item \(K = \mathbb{Q}_p, F = \widehat{\mathbb{G}}_m, \widehat{\mathbb{G}}_m(x,y) = x + y + xy = (1+x)(1+y)-1\).

            Then, \([\cdot]: \mathbb{Z}_p \to \operatorname{End}_{\mathbb{Z}_p}(\widehat{\mathbb{G}}_m), [a](x) = (1+x)^a - 1 \coloneqq \sum_{n=1}^{\infty} \binom{a}{n}x^n, \binom{a}{n}= \frac{a(a-1)\cdots (a-n+1)}{n!}\in \mathbb{Z}_p\) for any \(a\in \mathbb{Z}_p, n \geq 1\).

            \begin{exercise}
                \begin{enumerate}[label=\arabic*)]
                    \item \(\forall a\in \mathbb{Z}_p \forall n\geq 0, \binom{a}{n}\) as defined above is in \(\mathbb{Z}_p\).
                    \item If \(K\) is a proper extension of \(\mathbb{Q}_p\) then \(\binom{a}{n}\notin \mathcal{O}_K\) for infinitely many \(a\in \mathcal{O}_K\). 
                \end{enumerate} 
            \end{exercise}
            
            \item \(K = \mathbb{F}_q((t)), F = \widehat{\mathbb{G}}_a, \widehat{\mathbb{G}}_a(x,y) \equiv  x+y\). Set \([t](x) = tx + x^q\). Then,
            
            \[
                \left[ \underbrace{\sum_{\nu = 0}^{\infty} \alpha_\nu t^{\nu}}_{a}  \right](x) \coloneqq \sum_{\nu = 0}^{\infty} \alpha_\nu[t]^{\circ \nu}(x) = \sum_{n=1}^{\infty} a_n x^n \text{ where } a_1 = a
            \]

            gives \(F = \widehat{\mathbb{G}}_a\) the structure of a LT \(\mathcal{O}\)-module over \(\mathcal{O}\).

        \end{enumerate}
    \end{example}

    \begin{theorem}
        \begin{enumerate}[label=\roman*)]
            \item For all uniformizer \(\pi\) of \(K\) and any \(e \in \mathscr{E}_{\pi}\) there exists unique LT \(\mathcal{O}\)-module \(F_e\) over \(\mathcal{O}\) such that:
            
            \[
                [\pi]_{F_e}(x) = e(x)
            \]

            \item \(\forall e, e^{\prime} \in \mathscr{E}_{\pi}\) there is an isomorphism of formal \(\mathcal{O}\)-modules \(f: F_e \to F_{e^{\prime}}\) (\(f\in x \mathcal{O} [[x]], f(F_e(x,y))=F_{e^{\prime}}(f(x),f(y))\).
            
            \(\forall a\in \mathcal{O}: f([a]_{F_e}(x))=[a]_{F_{e^{\prime}}}(f(x))\).

            \(f^{\prime} (0)\in \mathcal{O}^\times\).
            
            \item Let \(K^{nr}\) be the maximal unramified extension of \(K\) (inside some fixed algebraic closure \(\overline{K}\)) and let \(K_{nr} \coloneqq \widehat{K^{nr}}\) be the completion of \(K^{nr}\) and let \(\mathcal{O}_{K_{nr}}\) be its valuation ring. Then for any two uniformizers \(\pi , \pi ^{\prime} \) of \(K\) and LT series \(e\in \mathscr{E}_{\pi}\) and \(e^{\prime} \in \mathscr{E}_{\pi^{\prime}}, \exists\) an isomorphism of formal \(\mathcal{O}\)-modules \(F_e \to F_{e^{\prime}}\) over \(\mathcal{O}_{K_{nr}}\).  
        \end{enumerate} 
    \end{theorem}

    \subsection*{Formal Complex Multiplication}

    Let \(\overline{K}\) be the fixed algebraic closure of \(K \supset \mathcal{O}_{\overline{K}} \supset P_{\overline{K}}\). Let \(\pi =\) the fixed uniformizer, \(e\in \mathscr{E}_{\pi}, F_e =\) LT \(\mathcal{O}\)-module over \(\mathcal{O}\).
    
    Set \(F[\pi^m] = \left\{ \alpha \in P_{\overline{K}} \mid \underbrace{[\pi^m]_{F_e}}_{e^{\circ m}(x)}(\alpha) = 0 \right\} \). This can be shown to be finite from Theorem 1.1.1.ii by setting \(e^{\prime}(x) = \pi x + x^q\). Then the isomorphism will provide a bijection to \(F_{e^{\prime}}[\pi^{m}, e^{\prime} \in \mathscr{E}_{\pi}]\). Then the zeros of the power series are the zeros of the iteration of the polynomial. Hence the set is finite.

    \(L_{\pi, m}\coloneqq K(F_e(\pi^m))\) called the field of \(\pi^m\)-torsion points of \(F_e\). It doesn't depend on \(e\), though it does depend on \(\pi\).

    \begin{example}
        if \(K=\mathbb{Q}_p\) and \(e(x) = (1+x)^p - 1\) then, \(L_{p,m} = \mathbb{Q}_p(\zeta - 1 \mid \zeta^{p^m} = 1) = \mathbb{Q}_{p}(\mu_{p^m})\).

        If we take \(e^{\prime}(x) = px + x^p\), the power series and the torsion points \(F_e[p^m]\) and \(F_{e^{\prime}}[p^m]\) are different but the fields \(\mathbb{Q}_{p}(F_{e[p^m]})\) and \(\mathbb{Q}_{p}(F_{e^{\prime}}[p^m])\)  has to be the same!
    \end{example}

    \begin{theorem}
        \begin{enumerate}[label=\roman*)]
            \item \(F_e[\pi^m]\) is a free \(\mathcal{O} / (\pi^m)\) module of rank \(1\) [note that \([\pi^m]\) annihilates \([a](x)\) since \([\pi^m]_{F_e}(\alpha) = 0\)].
            \item \(\forall m \geq 1\) the maps \(\mathcal{O} / (\pi^m) \to \operatorname{End}_{\mathcal{O}}(F_e[\pi^m]), a \mod \pi^m \mapsto [\alpha \mapsto [a](\alpha)]\).
            
            Also, \(\mathcal{O}^\times / (1+(\pi^m)) \to \operatorname{Aut}_{\mathcal{O}}(F_e[\pi^m])\), same formula are isomorphism (of finite groups).

            \item \(L_{\pi, m}\) does not depend on \(e\in \mathscr{E}_{\pi}\) but depends on \(\pi\). In particular, if \(e^{\prime} (x) = \pi x + x^q\) then \(L_{\pi,m}=K(F_{e^{\prime}}[\pi^m])\). 
            
            \item \(L_{\pi,m}\) is a finite purely ramified Galois extension (so it does not contain a proper unramified extension) of \(K\) of degree \((q-1)q^{m-1}\).
            
            The map \(G(L_{\pi,m} / K) \to \operatorname{Aut}_{\mathcal{O}}(F_e[\pi^m]) \overset{\text{ii, canonical}}{\cong} \mathcal{O}^\times / (1 + (\pi^m))\) given by \(\sigma \mapsto a \mod (1+(\pi^m))\).
            
            If \(\forall \alpha \in F_e[\pi^m]\colon \sigma (\alpha) = [a]_{F_e}(\alpha)\), is an isomorphism.

            \item If \(L_\pi = \bigcup_{m \geq 1} L_{\pi, m}\), then the maps in iv induce an isomorphism:
            
            \[
                G(L_\pi / K) = \lim_{\xleftarrow[m]{}} G(L_{\pi,m} / K) \xrightarrow[]{\cong} \lim_{\leftarrow} \mathcal{O}^\times / (1 + (\pi^m)) \cong \mathcal{O}^\times
            \]
        \end{enumerate} 
    \end{theorem}

    \section*{Thursday, 1/16/2025}
    
    Recall: we fixed an algebraic closure \(\overline{K}\). Residue field of \(\overline{K} = \overline{k} = \) algebraic closure of \(k = \mathbb{F}_q\).
    
    \begin{theorem}
        If \(L / K\) is abelian, \(L_{\pi} \subset L\), and \(L / L_\pi\) is purely rammified, then \(L_\pi = L\).
    \end{theorem}
    
    \begin{proof}
        Proof uses the Hasse-Arf theorem, which says that the jumps (or breaks) of the upper ramification filtration (\(G(L / K)^t, t \geq -1\)) are integers.
    \end{proof}

    \begin{remark}
        \(G(L_\pi / K)^m = \operatorname{Gal}(L_\pi / L_{\pi,m}), m \geq 0\).
        
        \(L_{\pi, 0} \coloneqq K\).
    \end{remark}

    Let \(K^{ab} \subset \overline{K}\) be the maximal abelian subextension.

    \begin{theorem}
        For any uniformizer \(\pi\) one has \(K^{ab} = K^{nr}\).
        
        \(K^{nr} =\) maximal unramified extension \(= K(\mu_n \mid p \nmid n)\). 
    \end{theorem}

    \begin{proof}
        Set \(L_\pi^{nr} \coloneqq K^{nr}.L_\pi \subset K^{ab}\). This gives us an exact sequence:

        \begin{center}
            \begin{tikzcd}
                1 \ar[r] & G(K^{ab} / L_\pi^{nr}) \ar[r] & G(K^{ab} / L_\pi) \ar[r, two heads] & G(L_\pi^{nr} / L_\pi) \ar[r] & 1
            \end{tikzcd}
        \end{center}
        
        \begin{center}
            \begin{tikzcd}
                G(L_\pi^{nr} / L_\pi) \ar[r,"\cong"] & G(\overline{k}\mid k) = \langle\varphi\rangle^{\text{top}}
            \end{tikzcd}
        \end{center}

        Where \(\varphi(\overline{\alpha}) = \overline{\alpha}^q, \overline{\alpha} \in \overline{k}\).
        
        \[
            \langle \varphi \rangle ^{\text{top}} \coloneqq \lim_{\leftarrow} \varphi^\mathbb{Z} / \varphi^{n\mathbb{Z}} \cong \lim_{\leftarrow} \mathbb{Z} / n \mathbb{Z} \eqqcolon \widehat{\mathbb{Z}}  
        \]

        Choose \(\widetilde{\varphi} \in G(K^{ab} / L_\pi)\) such that \(\eval{\widetilde{\varphi}}_{K^{nr}} = \varphi\)
        
        \(L_\pi \subset L \coloneqq (K^{ab})^{\overline{\langle \widetilde{\varphi} \rangle } }\).
        
        \(\overline{\langle \widetilde{\varphi} \rangle }\) is the closed subgroup of \(G(K^{ab} / L_{\pi})\) generated by \(\widetilde{\varphi}\). 

    \end{proof}

    \section*{Tuesday, 1/21/2025}
    
    \underline{Recall}: \(K =\) local nonarch.. field, \(\pi =\) uniformizer, \(e \in \mathscr{E}_\pi\) a LT seriess for \(\pi\), \(F_e\) a LT formal \(\mathcal{O}\)-module, \(L_\pi = \bigcup K(F_e[\pi^m]) \subset K^{ab}\) with topological isomorphism \(\operatorname{Gal}(L_\pi / K) \xrightarrow[\iota_\pi]{\cong} U_K = \mathcal{O}_K^\times\).

    1.1.6 \(\implies\) 

    \begin{center}
        \begin{tikzcd}
            K^\times \ar[r, equal] & U_K \times \pi^\mathbb{Z} \ar[r] & G(K^{ab} / K) \\ & (a,\pi^n) \ar[r,mapsto] & \underbrace{\iota_\pi^{-1}(a)}_{\text{acts trivially on }K^{nr}}\widetilde{\varphi}^n
        \end{tikzcd}
    \end{center}

    \(\widetilde{\varphi} =\) Frobenius element of \(G(K^{ab} / K)\).

    The map:

    \begin{center}
        \begin{tikzcd}
            U_K \ar[r, "\cong"', "\text{can}"] & G(L_\pi / K) & G(L_\pi K^{nr} / K^{nr}) \ar[l, "\cong", "\text{can}"'] \ar[r,hook] & G(K^{ab} / K)
        \end{tikzcd}
    \end{center}

    is canoncial. Here, \(K^{ab} = L_\pi K^{nr}\).

    \begin{definition}
        The Weil group \(W_K\) is defined by:

        \[
            W_K = \left\{ \sigma \in G(\overline{K} / K) \mid \eval{\sigma}_{K^{nr}} \in \varphi^\mathbb{Z}_{K^{nr}} \right\} 
        \]
    \end{definition}

    Here \(\varphi_{K^{nr}}=\) \underline{the} arithmetic Frobenius of \(K^{nr}\).

    We equip \(W_K\) with the coarsest topology which makes the \underline{inertia subgroup}:
    
    \[
        I_K = \left\{ \sigma \in G(\overline{K} / K) \mid \eval{\sigma}_{K^{nr}} = \operatorname{id}_{K^{nr}} \right\}
    \]

    an open subgroup, and \(I_K\) is equipped witth its profinite topology. Then,

    \[
        W_K = \sqcup_{n\in\mathbb{Z}} I_L \widetilde{\varphi}^\mathbb{Z}
    \]

    (disjoint union of open cosets) with \(\widetilde{\varphi}\) as in 1.1.6. 

    \begin{proposition}
        The abelianization \(W_K^{ab} = W_K / \overline{[W_K, W_K]}\) is isomorphic to:

        \[
            \left\{ \sigma \in G (K^{ab} \mid K) \mid \eval{\sigma}_{K^{nr}} \in \varphi^\mathbb{Z}  \right\} 
        \]

        The image of the homomorphism:

        \[
            K^\times \to G(K^{ab} / K)
        \]

        of 1..1.6 is \(W_K^{ab}\).

        \(U_K \supset 1 + (p^m)\) is open.
    \end{proposition}

    \begin{definition}
        Let \(\Gamma\) be a topological group and \(\rho: \Gamma \to \operatorname{Aut} (V)\) be a representation of \(\Gamma\) as an \(E\)-vector space (\(E\) = any field). \(\rho\) is called \underline{smooth} if \(\forall v\in V\) we have:

        \[
            \operatorname{Stab}_{\rho}(v) = \left\{ \gamma \in \Gamma \mid \rho (\gamma)(v) = v \right\} 
        \]

        is open.
    \end{definition}

    \begin{proposition}
        [\(\ell\)-adic local Langlands correspondence for \(GL_1\)]

        Let \(\ell \neq p\) be a prime. Then the isomorphism \(K^\times \to W^{ab}_{K}\) from 1.1.7 induces a bijection:
        
        \[
            \begin{Bmatrix}
                \text{continuous homomorphisms} \\ W_K \to GL_1(\overline{\mathbb{Q}_\ell}) = \overline{\mathbb{Q}_{\ell}}^\times 
            \end{Bmatrix} \to \begin{Bmatrix}
                \text{smooth irreducible} \\ \text{rep's of } GL_1(K) = K^\times \\ \text{on } \overline{\mathbb{Q}_{\ell}}\text{-vector space}
            \end{Bmatrix} / \cong
        \]

        \[
            \chi \mapsto \left[ K^\times \xrightarrow{\cong} W_K^{ab} \overset{\chi}{\dashrightarrow} \overline{\mathbb{Q}_{\ell}}^\times \right] 
        \]

        \begin{center}
            \begin{tikzcd}
                \chi \ar[r, mapsto] & \text{[} K^\times \ar[r,"\cong"] & W_K^{ab} \ar[r,"\chi",dash] & \overline{\mathbb{Q}}_{\ell}^\times \text{]} \\
                
                & & W_K \ar[u] \ar[ur,"\chi"]
            \end{tikzcd}
        \end{center}

    \end{proposition}

    \begin{proof}
        Main point: a smooth irreducible representation of \(K^\times\) on a \(\overline{\mathbb{Q}}_{\ell}^\times\) vector space is \(1\)-dimensional.
    \end{proof}

    \begin{remark}
        Proposition 1.1.8 is also true when \(\overline{\mathbb{Q}}_{\ell}\) is replaced by \(\mathbb{C}\) and with the appropriate modifications, when \(\overline{\mathbb{Q}}_{\ell}\) is replaced by \(\overline{Q}_p\).
    \end{remark}

    \subsection{1-dim formal groups: the functional equation lemma}

    Cf. Hazewinkel, Formal groups and Applications = [H1 Formal]

    Here we let:

    \begin{itemize}
        \item \(K\) = any commutative ring
        \item \(A \subset K\) subring
        \item \(p\) prime
        \item \(q\) power of \(p\)
        \item \(\sigma: K \to K\) ring homomorphism
        \item \(I \subset A\) ideal
        \item \(s_1, s_2, s_3, \cdots \in K\) 
    \end{itemize} 

    We assume:

    \begin{itemize}
        \item \(\sigma (A) \subset A\)
        \item \(\forall a\in A: \sigma (a) \cong a^q \mod I\) 
        \item \(p\in I\) so \(A / I\) is an \(\mathbb{F}_p\)-algebra
        \item \(\forall i \geq 1: s_i I \subset A\) 
        \item \(\forall b\in K \forall r \geq 0: b I^r \subset A \implies \sigma (b) I^r \subset A\). 
    \end{itemize} 

    \begin{lemma}

        Let \(g(x) = \sum_{i=1}^{\infty} b_i x^i \in x A[[x]]\).

        By HW1, \(\exists! f_g(x) = \sum_{i=1}^{\infty} d_i x^i \in x K[[x]]\) so that,

        \[
            f(x) = g(x) + \sum_{i=1}^{\infty} s_i (\sigma_{\ast} ^ i f)(x^{q^i}) \tag*{(1.2.1)}
        \]

        where \(\sigma_{\ast}^i f_g\) is power series obtained from \(f_g\) obtained by applying \(\sigma^i\) to all coefficients.
    \end{lemma}

    Indeed, \(d_n = \begin{dcases}
        b_n, &\text{ if } q\nmid n ;\\
        b_n + s_1 \sigma(d_{n / q}) + \cdots +s_r \sigma(d_{n / q^r}), &\text{ if } n = q^r m, q \nmid m.
    \end{dcases}\) 

    \begin{lemma}[The functional equation lemma (FEL)]

        Let the data be as above. Let \(g(x) = \sum_{i=1}^{\infty} b_i x^i\) and \(\overline{g}(x) = \sum_{i=1}^{\infty} \overline{b_i} x^i\) be in \(x A[[x]]\) and assume \(b_1 \in A^\times\). Then, \(f_g(x) = b_1 x +\) higher order terms \(\implies f_g\) has inverse \(f_g ^{-1}\) w.r.t.\ composition. Then,

        \begin{enumerate}[label=\roman*)]
            \item \(F_g(x,y) \coloneqq f_g ^{-1} (f_g(x) + f_g(y))\) is a formal group over \(A\).
            \item \(f_g ^{-1} (f_{\overline{g}}(x)) \in x A[[x]]\).
            \item Given \(h(x) = \sum_{i=1}^{\infty} c_n x^n \in x A[[x]], \exists \widehat{h} (x) = \sum_{n=1}^{\infty} \widehat{c_n} x^n\) s.t. \(f_g(h(x))=f_{\widehat{h}}(x)\).
            \item If \(\alpha(x) \in x A[[x]], \beta(x) \in K[[X]]\), then \(\forall r \geq 0: \alpha(x) \equiv \beta(x) \mod I^r A[[x]] \iff f_g(\alpha(x)) \equiv f_g(\beta (x)) \mod I^r A[[x]]\)   
        
        \end{enumerate} 

    \end{lemma}

    \begin{lemma}
        [HW1] Write \(f_g(x) = \sum_{i=1}^{\infty} d_i x^i\) and write \(n = q^r m, q \nmid m\). Then \(d_n I^r \subset A\).  
    \end{lemma}

    \begin{lemma}
        Let \(G(x,y) \in A[[x,y]]\) and \(n = q^r m\), and \(\ell > 0\). Then,
        
        \[
            G(x,y)^{q^\ell n} \cong \left( (\sigma_{\ast}^{\ell} G)(x^{q^{\ell}, y^{q^{\ell}}}) \right)^n \mod I^{r+1} 
        \]

        \((\sigma(a) \equiv a^q \mod I)\) 
    \end{lemma}

    \begin{proof}
        [Proof of (i) of FEL] Note that \(f_g ^{-1} (x) = b_1 ^{-1} x + h.o.t\). Then,
        \[
            F_g(x,y) = b_1 ^{-1} (b_1 x + b_1 y + h.o.t) = x + y + h.o.t \tag*{(1)}
        \]
        
        and associativity follows from the definition.

        Write \(F(x,y)=F_1(x,y)+F_2(x,y)+F_3(x,y) + \cdots\) with \(F_d(x,y) \in K[x,y]\) homogeneous of degree \(d\).

        We want to show, \(\forall d\geq 1, F_d(x,y) \in A[x,y]\).

        We prove this by induction. Case \(d=1\) already done.

        Assume \(d \geq 2\) and the statement is true for \(F_1, \cdots , F_{d-1}\).

        \underline{Note}:
        \[
            \forall r \geq 2: (F_1(x,y) + \cdots +F_{d-1} (x,y))^r \equiv F(x,y)^r \mod \deg d+1\tag*{(2)}
        \] 

        (2) and 1.2.4 together imply that \(\forall i \geq 1, n = q^r m, q \nmid m\) (\(n=1, r=0\) are ok).

        \[
            F(x,y)^{q^i n} \cong \left( (\sigma_{\ast}^i F) (x^{q^i},y^{q^i}) \right) ^ n \mod \deg d+1, I^{n+1} \tag*{(3)}
        \]

        By definition,

        \[
            f(F(x,y)) = f(x) + f(y) \tag*{(4)}
        \]

        (4) \(\implies\) (5):

        \[
            (\sigma_{\ast} f)((\sigma_{\ast} ^i F)(x,y)) = (\sigma_{\ast}^i f)(x) + (\sigma_{\ast}^i f)(y) \tag*{(5)}
        \]

        (1.1.2) = (6)

        \[
            f(x) = g(x) + \sum_{i=1}^{\infty} s_i (\sigma_{\ast}^i f)(x^{q^i}) \tag*{(6)}
        \]

        Substitute \(F(x,y)\) for \(x\) in (6). We get (7):

        \[
            f(F(x,y)) = g(F(x,y)) + \sum_{i=1}^{\infty} s_i \sum_{n=1}^{\infty} \sigma^i(d_n) F(x,y)^{q^i n} \tag*{(7)}
        \]

        Then we use the 12.4 congruence and our knowledge about the integrality of \(s_i\). Eventually it turns out that \(F_d(x,y) \equiv 0 \mod A[[x,y]]\). Thus \(F_d\) has coefficients in \(A\). 
        
    \section*{Thursday, 1/23/2025}
    
        Write \(n = q^r m, q \nmid m\).


        \(F(x,y)^{q^i n}\) in (7) satisfies (3).

        1.2.3 \(d_n I^r \subset A \implies \sigma(d_n)I^r \subset A\). Iterating, \(\sigma^i(d_n)I^r \subset A\).
        
        Also, \(s_i I \subset A\). Multiplying both sides,

        \[
            s_i \sigma^i(d_n) I^{r+1} \subset A
        \]

        Multiply (3) by \(s_i \sigma^i(d_n)\),

        \[
            s_i \sigma^i(d_n) F(x,y)^{q^i n} \equiv s_i \sigma^i(d_n)((\sigma_{\ast}^i F)(x^{q^i},y^{q^i}))^n \mod A,\deg d+1 \tag*{(8)}
        \]

        (7) and (8) together imply that,

        \[
            \cancel{f(F(x,y))} \equiv g(F(x,y)) + \sum_{i=1}^{\infty} s_i (\sigma_{\ast} ^i f)((\sigma_{\ast}^i F)(x^{q^i},y^{q^{i} })) \mod A, \deg d+1
        \]

        \[
            \overset{(5)}{\equiv} g(F(x,y)) + \sum_{i=1}^{\infty} s_i ((\sigma_{\ast}^i f)(x^{q^i})+(\sigma_{\ast}^i f)(y^{q^i})) 
        \]

        \[
            \overset{(6)}{=} g(F(x,y)) + \cancel{f(x)} - g(x) + \cancel{f(y)} - g(y)
        \]

        Upshot:
        
        \[
            g(F(x,y)) \equiv g(x) + g(y) \overset{\text{by assoc. on \(g\)}}{\equiv} 0 \mod A, \deg d+1 \tag*{(9)} 
        \]

        \[
            \implies 0 \overset{\mod A, \deg d+1}{\equiv}  g(F(x,y)) = b_1 F(x,y) + b_2 F(x,y)^2 + \cdots
        \]

        \[
            b_2 F^2 + \cdots \equiv b_2(\underbrace{F_1 + \cdots +F_{d-1}}_{\in A[x,y] \text{ by ind. hyp.} })^2 + b_3 (F_1 + \cdots + F_{d-1})^3 + \cdots \mod \deg d+1
        \]

        \[
            \implies 0\equiv b_1(\underbrace{F_1 + \cdots + F_{d-1}}_{\in A[x,y]} + F_d) \equiv b_1 F_d(x,y)
        \]

        Since \(b_1 \in A^\times\) we have, \(F_d(x,y) \in A[x,y]\).

        Statement ii (\(f_g ^{-1} (f_{\overline{g}}(x)) \in A[[x]]\) ) is proved in the same way.

        Satetement iii: \(\forall h(x) = \sum_{n=1}^{\infty} c_n x^n \in x A[[x]]\), suppose \(\exists \widehat{h}(x) = \sum_{n=1}^{\infty} \widehat{c_n}x^n \in A[[x]]\) such that \(f_g(h(x)) = f_{\widehat{h}}(x)\) which is defined by the Functional Equation of same type (i.e. all the other data are the same).
        
        Set \(\widehat{f}(x) = f(h(x))\) by assoc. \(h(x) \in xA[[x]]\).

        Recall:

        \[
            f(x) = g(x) + \sum_{i=1}^{\infty} s_i(\sigma_{\ast} ^i f)(x^{q^i})
        \]

        Then,

        \[
            \widehat{f} (x) - \sum_{i=1}^{\infty} s_i (\sigma_{\ast}^i \widehat{f})(x^{q^i}) = f(h(x)) - \sum_{i = 1}^{\infty} s_i (\sigma_{\ast}^i f)((\sigma_{\ast}^i h)(x^{q^i}))
        \]

        When \(n = q^r m, q \nmid m\),

        \[
            = f(h(x)) - \sum_{i=1}^{\infty} s_i \sum_{n=1}^{\infty} \sigma^i (d_n) \underbrace{\left( (\sigma_{\ast}^i h)(x^{q^i}) \right)^n }_{\underset{1.2.4}{\equiv} h(x,y)^{q^{i} n} \mod I^{r+1}} 
        \]

        Use 1.2.3 and \(s_i I \subset A\) to deduce that,

        \[
            \underset{\mod A}{\equiv} f(h(x)) - \sum_{i=1}^{\infty} s_i (\sigma_{\ast}^i f)(h(x)) \equiv g(h(x)) \equiv 0 \mod A 
        \]

        Set \(\widehat{h}(x) \coloneqq \widehat{f}(x) - \sum_{i=1}^{\infty} s_i (\sigma_{\ast}^i \widehat{f})(x^{q^i}) \in x A[[x]]\).
        
        Construction \(\implies \widehat{f}(x) = f_{\widehat{h}}(x)\) [unique solution to the functional equation].

    \end{proof}

    For statement iv: [H, Formal, ch 1, sec. 2.4.]

    So, we can write many formal group laws of the form \(F(x,y) = f ^{-1} (f(x)+f(y))\). where \(f\) is invertible. \(f\) is logarithm for this formal group law.

    Applications:

    \begin{enumerate}[label=\arabic*)]
        \item If \(K / \mathbb{Q}_p\) is a finite extension, \(\exists\) polynomials \(p_1 (x), p_2(x), \cdots \in K[x]\) such that:
        
        \[
            [a]_{F_e}(x) = \sum_{n=1}^{\infty} p_n(a) x^n
        \]

        with \(\forall n \geq 1 \forall a\in \mathcal{O}_K, p_n(a) \in \mathcal{O}_K\).

        Where \(F_e\) is a LT \(\mathcal{O}_K\)-module.

        eg when \(K = \mathbb{Q}_p, e(x) = (1+x)^p - 1 \implies p_n(x) = \binom{x}{n}\).
        
        \(p_n(a) \in \mathbb{Z}_p\) if \(a\in \mathbb{Z}_p\) but if \(K \neq \mathbb{Q}_p\) then \(\exists a\in \mathcal{O}_K\) such that \(\binom{a}{n}\notin \mathcal{O}_K\).

        \item Formal groups over \(\mathbb{F}_p\) or \(\overline{\mathbb{F}}_p\).
        
        Fix \(n \geq 1\). Set \(A = \mathbb{Z}, p\) a prime, \(I = p\mathbb{Z}, K = \mathbb{Q}, \sigma = \operatorname{id}_{}, q = p\).

        Define \(s_i^{(n)} = \begin{dcases}
            0, &\text{ if } i \neq n ;\\
            \frac{1}{p}, &\text{ if } i = n.
        \end{dcases}\) 

        Let \(g(x) = x, f_n(x) \in \mathbb{Z}\left[ \frac{1}{p} \right] [[x]]\) be the unique power series satisfying the functional equation:

        \[
            f_n(x) = x + p ^{-1} f_n(x^{p^n})
        \]

        Then,

        \[
            f_n(x) = x + \frac{x^{p^n}}{p} + \frac{x^{p^{2n}}}{p^2} + \cdots = \sum_{i=1}^{\infty} \frac{x^{p^{ni}}}{i} \tag*{$(\ast)$}
        \]

        FEL \(\implies F_n(x,y) = f_n ^{-1} (f_n(x)+f_n(y))\in \mathbb{Z} [[x]]\) by FEL.

        Exercise: if \(\ell\) is a prime \(\neq p\) then \(F_n(x,y)\mod \ell\) is isomorphic to \(\widehat{\mathbb{G}}_{a,\mathbb{F}_\ell}\).
        
    \end{enumerate} 

    Set \(\overline{F}_n(x,y) = F_n(x,y) \mod p \mathbb{Z} \in \mathbb{F}_p[x,y]\) a formal group over \(\mathbb{F}_p\).
    
    \begin{proposition}
        \begin{enumerate}[label=\roman*)]
            \item \([p]_{F_n} \equiv x^{p^n} \mod p\).
            \item If \(n\neq m \in \mathbb{Z}_{>0}\), then for any field \(k\) of characteristic \(p\), we have:
            
            \[
                \operatorname{Hom}_{\text{formal grp } / K}  \left( \overline{F}_n \otimes k, \overline{F}_m \otimes k \right) = \{ 0 \} 
            \]

            In particular, \(\overline{F}_n\) and \(\overline{F}_m\) are not isomorphic over any \(k\).
        \end{enumerate} 
    \end{proposition}

    \begin{proof}
        \begin{enumerate}[label=\roman*)]
            \item Set \(\alpha(x) = [p]_{F_n}(x) \in \mathbb{Z} [[x]]\) and \(\beta(x) = x^{q^n}\).
            
            Recall that \([p]_{F_n}(x) = f_n ^{-1} (p f_n (x))\).

            \[
                f_n(\alpha(x)) = p \cdot f_n(x), f_n(\beta(x)) = f_n(x^{p^n}).
            \]

            \((\ast) \implies f_n([p](x)) - f_n(x^{p^n}) = px \equiv 0\mod p\).
            
            FEL iv \(\implies \alpha(x) \equiv \beta(x) \mod p\).

            \item Let \(h(x) \in x k[[x]]\) be a non-zero homomorphism \(\overline{F}_n \otimes k \to \overline{F}_m \otimes k\).
            
            Let \(h(x) = ux^t + h.o.t, u\in k^\times , t \geq 1\). Then,

            \[
                \implies h \left( [p]_{\overline{F}_n}(x) \right) = [p]_{\overline{F}_m}(h(x)) 
            \]

            \[
                \implies u x^{p^n t} + h.o.t = u p^m x^{p^m t} + h.o.t.
            \]

            \[
                \implies  p^{n} t = p^m t \implies p^n = p^m
            \]

            Which is a contradiction.

        \end{enumerate} 
    \end{proof}

    \begin{remark}
        \begin{enumerate}[label=\arabic*)]
            \item One can show [H, Formal, 18.5.1] that a \(1\)-dimensional (commutative) formal group over a separably closed field \(k\) of \(\operatorname{char} p\) is isomorphic to exactly one of \(\overline{F}_n \otimes k\) for a unique \(n \geq 1\) or \(\widehat{\mathbb{G}}_{a,k}\).
            
            We define the \underline{height} of \(F\) to be:
            
            \[
                ht(F) \coloneqq \begin{dcases}
                    n, &\text{ if } F \cong \overline{F}_n \otimes k ;\\
                    \infty, &\text{ if } F \cong \widehat{\mathbb{G}}_{a,k}.
                \end{dcases}
            \]

            \item Let \(K = \mathbb{Q}_p (\zeta_{p^n - 1})\) unramified extension of degree \(n\) over \(\mathbb{Q}_p\). Let \(q = p^n, e(x) = f_n ^{-1} (p f_n(x))\) which we know is a Lubin-Tate series for the uniformizer \(\pi = p\) of \(K\).
            
            Clearly, \(e(x) = px + h.o.t, e(x) \equiv x^{p^n} = x^q \mod p\). These are exactly the conditions for LT series.

            \(\implies F_n = f_n ^{-1} (f_n(x) + f_n(y)) = F_e\) is the LT \(\mathcal{O}_K\)-module for \(e(x)\) by LT theory.

            One can show the canonical map:

            \begin{center}
                \begin{tikzcd}
                    \mathcal{O}_K \ar[r] & \operatorname{End}(F_n \otimes_{\mathbb{Z}} \mathcal{O}_K) \ar[r] \ar[d,"="] & \operatorname{End}(\overline{F}_n \otimes_{\mathbb{F}_p}\mathbb{F}_q) \\ & \operatorname{End}(F_e, \mathcal{O}_K)
                \end{tikzcd}
            \end{center}

            is injective but not surjective.

            \[
                \phi(x) = x^p \, \text{ is an endomorphism of } \overline{F}_n
            \]

            \(\implies \operatorname{End}(\overline{F}_n \otimes \mathbb{F}_q) = \mathcal{O}_K[\phi]\) where \([a]_{\overline{F}_n} \circ \phi = \phi \circ [\phi(a)]_{\overline{F}_n}\)
            
            and \(\mathcal{O}_K[\phi]\otimes_{\mathbb{Z}_p} \mathbb{Q}_p\) is a divisional algebra over \(\mathbb{Q}_p\).

            \[
                \operatorname{End}(\overline{F}_n \otimes_{\mathbb{F}_q}\mathbb{F}_q) \otimes_{\mathbb{Q}_p} \mathbb{Q}_p \eqqcolon D_n  
            \]

            We have: \(\dim_{\mathbb{Q}_p}(D_n) = n^2\) 
            
            Furthermore, \(\text{center}(D_n) = \mathbb{Q}_p\). \(D_n\) also contains \(K\) but it is not in the center.  
        \end{enumerate} 
    \end{remark}

    \subsection{LCFT following Hazewinkel}

    [H] = `Local Class Field Theory is easy'

    In this section, a \underline{local field} is, by convention, a field \(K\) which is complete for a discrete non-trivial non-archimedean absolute value \(\vert \cdot \vert\). i.e., \(\vert K^\times \vert\) is a non-trivial discrete subgroup of \(R_{> 0}\).

    Examples:

    \begin{enumerate}[label=\arabic*)]
        \item \(\mathbb{Q}_p, \mathbb{F}_{q}((t))\)
        \item \((\mathbb{Q}_p)_{nr} = \widehat{\mathbb{Q}_p^{nr}}, \overline{\mathbb{F}_q}((t)) = (\underbrace{\mathbb{F}_q((t)) \otimes_{\mathbb{F}_q} \overline{\mathbb{F}_q}}_{\mathbb{F}_q((t))^{nr}})^\wedge\) [the \(t\)-adic completion]
        \item \(\mathbb{C}((t))\) or \(k((t))\) [they are complete w.r.t.\ a \(t\)-adic absolute value].
    \end{enumerate} 

    Outline:

    \begin{enumerate}[label=\arabic*)]
        \item Assume \(K\) has algebraically closed residue field \(k\), and \(L / K\) is finite abelian extension. [Note that abelian here automatically means Galois]. Set \(U(K) = \mathcal{O}_K^\times\), units of the valuation ring, and \(V(L / K) = \langle \sigma (u) u ^{-1} \mid \sigma \in G(L / K), u \in U(L) \rangle\) [subgroup generated by these elements].
        
        Fix a uniformizer \(\pi_L\) of \(L\) and define:

        \[
            i: G(L / K) \to U(L) / V(L / K)
        \]

        \[
            i(\sigma) = \frac{\sigma(\pi_L)}{\pi_L} \mod V(L / K)
        \]

        Note: \(i\) does not depend on the choice of \(\pi_L\). Indeed, if \(\omega\) is another uniformizer of \(L\) then \(\omega = v \pi_L \implies \frac{\sigma(\omega)}{\omega} = \frac{\sigma(\pi_L)}{\pi_L} \frac{\sigma(v)}{v} \equiv \frac{\sigma(\pi_L)}{\pi_L} \mod V(L / K)\). 

        \begin{theorem}
            The seqeunce:
    
            \[
                1 \to G(L / K) \to U(L) / V(L / K) \xrightarrow{N_{L / K}} U(K) \to 1
            \]
    
            is exact.
        \end{theorem}
        
        \item Now assume that \(K\) has finite residue field (equivalently, \(K\) is locally compact). Also assume that \(L / K\) is a finite abelian extension. Set \(K_{nr} = \widehat{K^{nr}}, L_{nr} = \widehat{L^{nr}} = \widehat{L.K^{nr}} = L . K_{nr}\).
        
        Let \(\varphi_K \in \operatorname{Gal}(K^{nr} / K), \varphi_L \in \operatorname{Gal} (L^{nr} / L)\) be the arithmetic Frobenius. 

        Let \(G(L / K)_0\) be the \(0^{\text{th}}\) ramification group. Then, we have an exeact sequence:

        \[
            1 \to G(L / K)_0 \to G(L / K) \to G(k_L / k) \to 0
        \]

        Here \(k_L\) is the residue field of \(L\).

        Note: \(G(L / K)_0 \xleftarrow[\text{res}]{\cong} G(L^{nr} (= L.K^{nr}) / K^{nr}) \cong G(L / L\cap K^{nr})\). \(L \cap K^{nr}\) is the maximal unramified subfield of \(L\) over \(K\). Furthermore, \(G(L^{nr} / K^{nr})\) is isomorphic to the Galois group of the completion. Then we have,

        \begin{center}
            \begin{tikzcd}

                & & & & 1 \ar[d] \\

                & & & & U(K) \ar[d] \ar[dddlll] \\

                1 \ar[r] & G(L / K)_0 \ar[d,"\sigma\mapsto 1"] \ar[r,"\cong"] & G(L_{nr} / K_{nr}) \ar[r] & \frac{U(L_{nr})}{V(L_{nr} / K_{nr})} \ar[r] \ar[d,"\psi_L"] & U(K_{nr}) \ar[r] \ar[d,"\psi_K"] & 1 \\
                1 \ar[r] & G(L / K)_0 \ar[r,"\cong"] \ar[d] & G(L_{nr} / K_{nr}) \ar[r] & \frac{U(L_{nr})}{V(L_{nr} / K_{nr})} \ar[r] & U(K_{nr}) \ar[r]  & 1 \\
                & G(L / K)_0
            \end{tikzcd}
        \end{center}

        by snake lemma.

        Here, \(\psi_K(v) = \varphi_K(v) v ^{-1}, \psi_L(v) = \varphi_L(v) v ^{-1}\).

        Hence we get a canonical homomorphism:

        \[
            U(K) \xrightarrow{i_{L / K}} G(L / K)_0
        \]

        \begin{theorem}
            \(i_{L / K}\) is surjective and \(\ker(i_{L / K}) = N_{L / K}(U(L))\).
            
            Hence we have a canonical basis:

            \[
                \frac{U(K)}{N_{L / K}}(V(L)) \xrightarrow[i_{L / K}]{\cong} G(L / K)_0
            \]

            If \(L / K\) is a subextension of a finite abelian exztension \(L^{\prime} / K\) one has a commutative diagram:

            \begin{center}
                \begin{tikzcd}
                    \dfrac{U(K)}{N_{L' / K}(U(L'))} \ar[d] \ar[r,"i_{L'/K}"] & G(L' / K)_0 \ar[d] \\
                    \dfrac{U(K)}{N_{L / K}(U(L))} \ar[r,"i_{L / K}"] & G(L / K)_0
                \end{tikzcd}
            \end{center}
        \end{theorem}

        [Use \(N_{L^{\prime} / K}(U_{L^{\prime}}) = N_{L / K}(N_{L^{\prime} / L}(U(L^{\prime}))) \subset N_{L / K} (U(L)) \)].

        Taking the limit over all finite abelian extensions of \(K\) inside a fixed maximal abelian extension \(K^{ab}\) gives:

        \begin{proposition}
            The homomorphisms \(i_{L / K}\) for varying finit eabelian \(L / K\) induce canonicall isomorphism:

            \[
                U(K) \cong \lim_{\xleftarrow[L / K]{}} \frac{U(K)}{N_{L / K}(U(L))} \cong \lim_{\xleftarrow[L / K]{}} G(L / K)_0 = G(K^{ab} / K^{nr}) 
            \]
        \end{proposition}

    \end{enumerate} 

    \underline{Preliminaries} Let \(K\) be a local field with perfect residue field \(k\). Given a finite Galois extension \(L / K\), we set \(K_L = \) maximal unramified subextension of \(L / K\), \(=L \cap K^{nr}\).

    We have an exact sequence:

    \[
        1 \to \underset{=G(L / K)_0}{G(L / K_L)} \to G(L / K) \to G(k_L / k) \to 1 
    \]

    Set \(K_{nr} = \widehat{K^{nr}}, L_{nr} = \widehat{L^{nr}} = L . K_{nr}\). The maps:
    
    \[
        G(L_{nr} / K_{nr}) \xrightarrow[\text{res}]{\cong} \underset{=G(L / L\cap K^{nr})}{G(L^{nr} / K^{nr})} \xrightarrow[\text{res}]{\cong} G(L / K_L)
    \]

    \begin{proposition}
        \begin{enumerate}[label=\roman*)]
            \item Let \(K\) be a local field with algebraically closed residue field \(k\) and \(L / K\) a finite extension. Then, \(N_{L / K}: L^\times \to K^\times\) and \(N_{L / K}: U(L) \to U(K)\) are both surjective.
            \item Let \(K\) be a local field with finite residue field and \(L / K\) a finite unramified extension. Then, \(N_{L / K}: U(L) \to U(K)\) is surjective. 
        \end{enumerate} 

        \begin{proof}
            HW3
        \end{proof}
    \end{proposition}

    \subsection*{The Decomposition Theorem}

    Fix an algebraically closed field \(\Omega\) containing \(K_{nr} = \widehat{K^{nr}}\). All composite fields are taken in \(\Omega\).

    \begin{theorem}
        Let \(K\) be a local field with finite residue field and \(L / K\) a finite Galois extension. Then \(\exists\) a totally ramified extension \(L^{\prime} / K\) inside \(L / K\) such that,

        \[
            L^{\prime} K^{nr} = L K^{nr} = L^{nr}
        \]

        \[
            (L^{\prime})_{nr} = L^{\prime} . K_{nr} = L . K_{nr} = L_{nr} 
        \]

        If \(G(L / K)_0\) is contained in the center \(Z(G(L / K))\) then \(G(L / K)\) is abelian and \(L^{\prime} / K\) is abelian
    \end{theorem}

    We have, \(K^{ab} = (\text{totally ramified extension}) . K^{nr}\)

    \section*{Thursday, 1/30/2025}
    
    \begin{proof}
        Let \(K_L / K \subset L / K\) be maximal unramified subextension.

        \begin{center}
            \begin{tikzcd}
                1 \ar[r] & G(L / K)_0 \ar[d,"="] \ar[r] & G(L / K) \ar[r] & G(k_L / k) \ar[d,"\cong"] \ar[r] & 1 \\ & G(L / K_L) & & G(K_L / K) \ar[d,"\in"] \\ & & \widetilde{\varphi} \ar[r, mapsto] & \varphi_{K_L / K}
            \end{tikzcd}
        \end{center}

        \(s = [K_L : K] = [k_L : k] = \operatorname{ord} (\varphi_{K_L / K})\). \(r = \operatorname{ord} (\widetilde{\varphi})\) thus \(s\mid r\).
        
        Note: \(K_L\) is the unique unramified extension of \(K\) in \(\Omega\) of degree \(s\).

        Let \(K_r =\) unique unramified extension of \(K\) in \(\Omega\) of degree \(r\).

        \(K_L \subseteq K_r\) since \(s\mid r\).

        \underline{Claim}: The canonical homomorphism,

        \[
            G(L . K_r / K) \xrightarrow{(res,res)} \underset{G(L\cap K_r / K)}{G(L / K) \times G(K_r / K)}
        \]

        \[
            = \{ (\sigma,\tau) \mid \eval{\sigma}_{L\cap K_r} = \eval{\tau}_{L \cap K_r} \} 
        \]

        is an isomorphism.

        The proof of claimm is Exercise (HW3).

        Claim \(\implies \exists ! \psi \in G(LK_r / K)\) such that \(\eval{\psi}_L = \widetilde{\varphi}\) and \(\eval{\psi}_{K_r} = \varphi_{K_r / K}\).

        Set \(L^{\prime} \coloneqq (L . K_r)^{\langle \psi \rangle}\) 

        Note: the maximal unramified subextension of \(L . K_r / K\):

        \(L^{\prime} \cap K_r = K \implies L^{\prime} / K\) is totally ramified.

        Note: \(\operatorname{ord} (\psi) = r = \vert \langle \psi \rangle \vert  \implies [L^{\prime} : K] r = [L^{\prime} : K] [LK_r : L^{\prime}] = [LK_r : K]\).
        
        Since this has the right degree, we deduce that \(L^{\prime} . K_r = LK_r\).

        \(\implies L^{\prime} K^{nr} = (L^{\prime} K_r) K^{nr} = (LK_r)K^{nr} = L . K^{nr} = L^{nr}\).

        Same argument goes for the completion.

        Note that \(G(L / K)\) is generated by \(\widetilde{\varphi}\) and \(G(L / K)_0\). The last point follows from this.
    \end{proof}

    \begin{corollary}
        Let \(K^{ab}\) be the maximal abelian extension of \(K\) . Then, \(\exists\) a totallly ramified extension \(L / K\) such that \(K^{ab} = L . K^{nr}\).
    \end{corollary}

    \begin{proof}
        Choose a splitting of \(G(K^{ab} / K) \twoheadrightarrow G(K^{nr} / K) \cong \widehat{\mathbb{Z}}\). We have \(\sigma : G(K^{nr}) \to G(K^{ab} / K)\).
        
        Set \(H = \operatorname{im} \sigma, L \equiv  (K^{ab})^H\). Then \(L\) is totally ramified.
        
        Because of the restriction, \(G(K^{ab} / K) \to G(L / K)\) has \(H\) as kernel.
        
        Thus \(G(K^{ab} / L) \cong H\). This concludes the proof.
    \end{proof}

    \begin{corollary}
        \(G(K^{ab} / K^{nr}) = \varprojlim_{M / K^{nr}, \text{ finite, } M / K \text{ abelian} } G(M / K^{nr})\)
        
        \(=\varprojlim_{L / K \text{ finite abelian} } G(L.K^{nr} / K^{nr})\)

        \(= \varprojlim_{L / K \text{ finite abelian}} G(L / K_L)\) 

        \(= \varprojlim_{L / K \text{ finite}} G(L / K)_0\)
    \end{corollary}

    \subsection*{Local Fields with Algebraically Closed Residue Field}

    For example, \(K = K_{nr}, K = \mathbb{C} ((t))\).

    \begin{proposition}
        
        Let \(K\) have algebraically closed residue field \(k\) and \(L / K\) finite abelian. Then we have,

        \[
            1 \to G(L / K) \xrightarrow{i} \frac{U(L)}{V(L / K)} \xrightarrow{N_{L / K}} U(K) \to 1\tag*{\((\ast)\)}
        \]
    \end{proposition}

    Goal is to show that \((\ast)\) is exact.

    Recall: \(V(L / K)= \left\{ \sigma(u) / u : u \in U(L), \sigma \in G(L / K) \right\} \).

    \begin{lemma}
        \(i\) is well-defined and a group homomorphism.
    \end{lemma}

    \begin{proof}
        Let \(\pi\) be a uniformizer of \(L\). Then, \(i(\sigma) = \frac{\sigma(\pi)}{\pi} \mod V(L / K)\), clearly well defined.
    
        \(\frac{(\sigma \tau)(\pi)}{\pi} = \frac{\sigma(\tau(\pi))}{\tau(\pi)} \frac{\tau(\pi)}{\pi} \equiv \frac{\sigma(\pi)}{\pi} \frac{\tau(\pi)}{\pi} \mod V(L / K)\).
    \end{proof}

    \begin{lemma}
        Let \(G\) be a finite abelian group and \(g\in G\) an element. Then, \(\exists H \leq G\) (subgroup) such that:

        \begin{enumerate}[label=\roman*)]
            \item \(G / H\) is cyclic.
            \item \(\operatorname{ord} (gH) = \operatorname{ord} (g)\)  
        \end{enumerate} 
    \end{lemma}

    \begin{proposition}
        i: \(G(L / K) \to U(L) / V(L / K)\) is injective.
    \end{proposition}
    
    \begin{proof}
        Set \(G = G(L / K). g\in G \setminus \{ 1 \}\). Let \(H \leq G\) be as 1.3.10.

        \(\exists f \in G: G / H = \langle \overline{f} \rangle, \overline{f} = fH \implies g = f ^{r} \cdot h_0, h_0 \in H\). \(0 < r < s \coloneqq \operatorname{ord}(\overline{f})\).

        Suppose \(i(g) \in V(L / K)\).

        Write \(\pi = \pi_L\).

        \(\implies \frac{g(\pi)}{\pi} = \underbrace{\frac{f^r (\pi)}{\pi}}_{= i(f^r) = i(f)^r} \frac{h_0(\pi)}{\pi} \underset{1.3.9}{\equiv} \frac{f(\pi) \cdots f(\pi)}{\pi \cdots \pi} \frac{h_0(\pi)}{\pi} = \frac{f(\pi^r)}{\pi^r} \frac{h_0(\pi)}{\pi} \mod V(L / K)\).

        By assumption, this is an element of the subgroup.
        
        So, it can be written as:
        
        \[
            \prod_{0 \leq i < s} \frac{(f^i h_j) (u_{ij})}{u_{ij}} \tag*{(1)}
        \]

        For some \(h_j in H, v_{ij} \in U(L)\).

        Next: let \(h\in H\) be any element.

        \[
            \frac{(f^i h)(v)}{u} = \frac{(f^i h)(u)}{(f^{i-1}h)(u)} \frac{(f^{i-1}h)(u)}{(f^{i-2}h)(u)} \cdots \frac{(fh)(u)}{h(u)} \frac{h(u)}{u}
        \]

        \[
            = \underbrace{\frac{f((f^{i-1}h)(u))}{(f^{i-1}h)(u)}}_{=v_1} \underbrace{\frac{f((f^{i-2}h)(u))}{(f^{i-2}h)(u)}}_{=v_2} \cdots \underbrace{\frac{f(h(u))}{h(u)}}_{=v_i} \frac{h(u)}{u} \tag*{(2)}
        \]

        \[
            = \frac{f(v_1 \cdots v_i)}{v_1 \cdots v_i} \frac{h(u)}{u} = \frac{f(u^{\prime})}{u^{\prime}} \frac{h(u)}{u}
        \]

        1 and 2 \(\implies \frac{f(\pi^r)}{\pi^r} \frac{h_0(\pi)}{\pi} \underset{(3)}{=} \frac{f(w)}{w} \prod_{h\in H} \frac{h(u_h)}{u_h} \) 

        Let \(M = L^H\) and apply \(N = N_{L / M}\) to both sides of \(3\).

        \(\implies \frac{f(\pi_M^r)}{\pi_M^r} = \frac{f(\widetilde{w})}{\widetilde{w}}, \pi_M = N_{L / M}(\pi), \widetilde{w} =n N_{L / M}(w) \in U(M)\).
        
        \(\implies f(\pi_m^r \widetilde{w}^{-1}) = \pi_M^r \widetilde{w} ^{-1} \in M\) and fixed by \(f\).
        
        \(\langle f, H \rangle = G\) so \(\pi_M^r \widetilde{w} ^{-1} \in K\).
        
        \(\implies [M : K] \mid r\). But \([M:K] = \vert G(M / K) \vert  = \vert G / H \vert = s\).
        
        We have chosen \(r < s\) 

    \end{proof}


    \begin{theorem}
        [Hilbert 90]

        Let \(E / F\) be any finite cyclic Galois extension, \(\sigma \in G = G(E / F)\). Then, if \(N_{E / F}(x) = 1\) for \(x \in E^\times \implies \exists y\in E^\times : x = \sigma(y) y ^{-1}\). 
    \end{theorem}

    \begin{proof}
        Let \(n=[E:F]\). For any \(a\in E\) set:

        \[
            y = y(a) = a + \sigma (a) x ^{-1}  + \sigma^2 (a) \sigma (x ^{-1}) x ^{-1} + \cdots + \sigma^{n-1}(a) \sigma^{n-2}(x ^{-1}) \cdots \sigma(x ^{-1}) x ^{-1} 
        \]

        \(\implies \sigma(y) = \sigma(a) + \sigma^2(a) \sigma (x ^{-1}) + \cdots + \underbrace{\sigma^n(a)}_{=a}  \underbrace{\sigma^{n-1}(x ^{-1}) \cdots \sigma(x ^{-1}) x ^{-1}}_{= 1} x\) 

        \(= (\sigma (a) x ^{-1} + \sigma^2(a) \sigma(x ^{-1}) x ^{-1} + \cdots + a) x = yx\).
        
        Let \((a_1, \cdots , a_n)\) be a \(K\)-basis of \(L\).

        \[
            \begin{bmatrix}
                y(a_1) \\
                y(a_2) \\
                \vdots \\
                \vdots \\
                y(a_n) \\
            \end{bmatrix} = \begin{bmatrix}
                a_1 & \sigma(a_1) & \cdots & \sigma^{n-1}(a_1) \\
                a_2 & \sigma(a_2) & \cdots  & \sigma^{n-1}(a_2) \\
                 &  &  &  \\
                 &  &  &  \\
                a_n & \sigma(a_n) & \cdots & \sigma^{n-1}(a_n) \\
            \end{bmatrix} \begin{bmatrix}
                1 \\
                x ^{-1}  \\
                \sigma (x ^{-1}) x ^{-1} \\
                \vdots \\
                \sigma^{n-2}(x ^{-1}) \cdots \sigma(x ^{-1}) x ^{-1} \\
            \end{bmatrix} 
        \]

        \(0 \neq \operatorname{disc} (a_1, \cdots , a_n) = \det(\text{mat})^2\) since \(E / F\) is separable.
        
        \(\implies \exists 1 \leq i \leq n\) such that \(y(a_i) \neq 0\).

        Then, \(x = \sigma(y(a_i)) y(a_i) ^{-1}\).
    \end{proof}

    \begin{remark}
        Hilbert 90 is equivalent to \(H^1(G(E / F),E^\times) = \{ 1 \}\).

        If \(E / F\) is any finite Galois extension and \(n\) \underline{any} positive integer,
        
        \(H^1(G(E / F), \operatorname{GL}_n(E)) = \{ 1 \}\). 
    \end{remark}

    \section*{Tuesday, 2/4/2025}
    
    \begin{center}
        \begin{tikzcd}
            & & & \ker(\psi_K) = U(K) \ar[d] & \\
            1 \ar[r] & G(L / K)_0 \ar[d,"\sigma\mapsto 1"] \ar[r,"i"] & \frac{U(L_{nr})}{V(L_{nr} / K_{nr})} \ar[d,"\psi_L"] \ar[r,"N"] & U(K_{nr}) \ar[d,"\psi_K"] \ar[r] & 1 \\
            1 \ar[r] & G(L / K)_0 \ar[d, two heads] \ar[r,"i"] & \frac{U(L_{nr})}{V(L_{nr} / K_{nr})} \ar[r,"N"] & U(K_{nr}) \ar[r] & 1 \\ & G(L / K)
        \end{tikzcd}
    \end{center}

    Connecting homomorphism: \(\eta_{L / K}:U(K) \to G(L / K)_0\)

    Then theorem 1.3.2 is: \(\eta_{L / K}\) is surjective and \(\ker \eta_{L / K} = N(U(L))\).

    \begin{proposition}
        Suppose \(k = \overline{k}\) and \(L / K\) is finite cyclic. Then,

        \[
            1 \to G(L / K) \xrightarrow{i_{L / K}} \frac{U(L)}{V(L / K)} \xrightarrow{N_{L / K}} U(K) \to 1 \tag*{$(\ast)$}
        \]

        is exact.
    \end{proposition}

    \begin{proof}
        Exactness on left: 1.3.11.

        Exactness on right: 1.3.4(i) [Haven't seen yet, HW4].

        For exactness on the middle,

        Set \(N = N_{L / K}\).

        \[
            (N \circ i_{L / K})(\sigma) = N \left( \frac{\sigma(\pi_L)}{\pi_L}\right) = \prod_{\tau \in G(L / K)} \tau \left( \frac{\sigma(\pi_L)}{\pi_L} \right) = 1  
        \]

        Now suppose \(N(x) = 1, x \in U(L)\).

        Hilbert 90 (1.3.12) implies \(\exists y\in L^\times \colon x = \sigma(y) y ^{-1}, \langle \sigma \rangle = G(L / K)\).
        
        Write \(y = v \pi_L^r, v\in U(L)\).
        
        Then, \(x = \frac{\sigma(y)}{y} = \frac{\sigma(v)}{v} \left( \frac{\sigma(\pi)}{\pi} \right)^r \equiv \left( \frac{\sigma(\pi)}{\pi} \right)^r \mod V(L / K) = i_{L / K}(\sigma)^r \overset{1.3.9}{=} i_{L / K}(\sigma^r)\) 

        Thus, \(x V(L / K) \in \operatorname{im} (i_{L / K})\).
        
    \end{proof}

    \begin{lemma}
        Suppose \(k = \overline{k}\) and \(L / K\) finite Galois extension (not necessarily abelian).

        Let \(M / K \subseteq L / K\) [Galois] be such that \(L / M\) is cyclic. Then,
        
        \[
            N_{L / M}: V(L / K) \to V(M / K)
        \]

        is cyclic.
    \end{lemma}

    \begin{proof}
        Let \(G=G(L / K)\) and \(H = G(L / M)\) and consider \(\overline{\gamma} (v) v ^{-1} \in V(M / K)\).

        \(v \in U(M), \overline{\gamma} = \gamma H \in G(M / K)\).
        
        1.3.4i \(\implies N_{L / M}: U(L) \to U(M)\) is surjective.

        Thus, \(\exists w \in U(L)\) such that \(u = N_{L / M}(w)\).

        \[
            \implies N_{L / M} \left( \frac{\gamma(w)}{w} \right) = \frac{\overline{\gamma}(N_{L / M}(w))}{N_{L / M}(w)} = \frac{\overline{\gamma}(v)}{v}
        \] 
    \end{proof}

    \begin{lemma}
        Assume \(k = \overline{k}\). Let \(L / K\) be finite abelian and \(M / K \subseteq L / K\) such that \(H \coloneqq G(L / M)\) is cyclic. Then the sequence:

        \[
            1 \to G(L / M) \xrightarrow{j} \frac{U(L)}{V(L / K)} \to U(K) \to 1
        \]

        is exact.

        Here \(j\) is given by the composition canonically:

        \[
            G(L / M) \hookrightarrow G(L / K) \xrightarrow{i_{L / K}} \frac{U(L)}{V(L / K)} \xrightarrow{N_{L / M}} \frac{U(M)}{V(M / K)} \to 1
        \]


    \end{lemma}

    \begin{proof}
        1.3.11 implies:

        \[
            G(L / K) \xrightarrow{i_{L / K}} \frac{U(L)}{V(L / K)}
        \]

        is injective. Then trivially \(j\) is injective from definition.

        Also, \(N_{L / M} \circ j\) is the trivial homomorphism (trivially).

        1.3.4i \(\implies N_{L / M}\) is surjective. 

        Only nontrivial part is exactness in the middle.

        Supose \(N_{L / M}(v) = 1_{U(M) / V(M / K)} \implies N_{L / M}(v) = w \in V(M / K)\).

        1.3.14 \(\implies \exists \widetilde{w} \in (V_{L / K})\) such that \(N_{L / M}(\widetilde{w}) = w\).
        
        Thus, \(N_{L / M}(v \widetilde{w} ^{-1}) = 1_{U(M)} \implies \xrightarrow[L / M \text{ cyclic}]{1.3.13} \implies v \widetilde{w} ^{-1} \mod V(L / M) = i_{L / M}(\sigma)\).
        
        \(\implies j(\sigma) = \underbrace{i_{L / K}(\sigma)}_{\in U(L) / V(L / K)} = \underbrace{i_{L / M}(\sigma)}_{\in U(L) / V(L / M)}V(L / K) =  = v \widetilde{w} ^{-1} V(L / K)= u V(L / K)\).

        \(\implies uV(L / K) \in \operatorname{im} j\). 
        
    \end{proof}

    \begin{theorem}
        Assume \(k = \overline{k}\) and \(L / K\) is finite abelian. Then,

        \[
            1 \to G(L / K) \xrightarrow{i_{L / K}} U(L) / V(L / K) \to U(K) \to 1
        \]

        is exact.
    \end{theorem}

    \begin{proof}
        Induction on \([L:K]\). Case \(L = K\) is trivial. Assume \([L:K] > 1\).

        \(L / K\) cyclic \(\implies\) by 1.3.13 we're done. Assume \(L / K\) not cyclic.
        
        Choose subextension \(M / K \subsetneq L / K\) a subextension such that \(L / M\) is cyclic.
        
        Consider the following commutative diagram:

        \begin{center}
            \begin{tikzcd}
                & & & (1) \\
                & & 1 \ar[d] & 1 \ar[d]\\
                 &  & G(L / M) \ar[d] \ar[r,"id"]  & G(L / M) \ar[d] \\
                (2) & 1 \ar[r] & G(L / K) \ar[r,"i_{L / K}"] \ar[d] & U(L) / V(L / K) \ar[r,"N_{L / K}"] \ar[d,"N_{L / M}"] & U(K) \ar[d,"id"] \ar[r] & 1 \\
                (3) & 1\ar[r] & G(M / K) \ar[r,"i_{M / K}"] \ar[d] & U(M) / V(M / K) \ar[d] \ar[r,"N_{M / K}"] & U(K) \ar[r] & 1 \\
                & & 1 & 1
            \end{tikzcd}
        \end{center}
        
        (1) is exact by 1.3.15, (3) is exact by induction, (2) is exact on the left [1.3.11] and on the right [1.3.4i]. Diagram chase implies exactness of 2 in the middl.

    \end{proof}

    \begin{remark}
        If \(L / K\) is any totally ramified Galois extension one still has an exact sequence:

        \begin{center}
            \begin{tikzcd}
                1 \ar[r] & G(L / K)^{ab} \ar[rr, "i_{L / K}"] & & \frac{U(L)}{V(L / K)} \ar[r] & U(K) \ar[r] & 1 \\ & & G(L / K) \ar[ul, dotted] \ar[ur]
            \end{tikzcd}
        \end{center}
    \end{remark}

    \subsection*{Almost the Reciprocity Homomorphism}
    
    Suppose now that \(K\) has finite residue field \(k\) and \(\vert k \vert = q\).

    Let \(L / K\) be a totally ramified finite abelian extension.

    Then the map:

    \[
        G(\underbrace{L_{nr}}_{= L_\pi K_{nr}} / K_{nr}) \xrightarrow[\cong]{res} \underbrace{G(L^{nr} / K^{nr})}_{= G(L / (L\cap K^{nr} = K))} \xrightarrow[\cong]{res} G(L / K)
    \]

    Define \(\psi_K : U(K_{nr}) \to U(K_{nr})\) by \(\psi_K(a) = \varphi_{K_{nr} / K}(a) a ^{-1}\) and similarly \(\psi_L : U(L_{nr}) \to U(L_{nr})\). Consider the commutative diagram:

    \begin{center}
        \begin{tikzcd}

            & & \ker(\overline{\psi}_L) \ar[d] \ar[r] & \ker(\psi_K) \ar[dddll] \ar[d] \\
            1 \ar[r] & G(L / K)  \cong G(L_{nr} / K_{nr}) \ar[d,"\sigma\mapsto 1"] \ar[r,"i_{L_{nr} / K_{nr}}"] & \frac{U(L_{nr})}{V(L_{nr} / K_{nr})} \ar[d,"\overline{\psi}_L"] \ar[r] & U(K_{nr}) \ar[d,"\psi_K"] \ar[r] & 1 \\
            1 \ar[r] & G(L / K) \ar[d,"\cong"] \ar[r,"i_{L_{nr} / K_{nr}}"] & \frac{U(L_{nr})}{V(L_{nr} / K_{nr})} \ar[r] \ar[d] & U(K_n) \ar[r] & 1 \\
            & G(L / K) \ar[r] & \operatorname{coker}(\overline{\psi_L}) \ar[d] \\ & & 1
        \end{tikzcd}
    \end{center}

    \(\overline{\psi}_L\) is the induced map on \(U(L_{nr}) / V(L_{nr} / K_{nr})\)  

    Note: 1. \(\overline{\psi}_L \left( i_{L_{nr} / K_{nr}} (\sigma) \right) = \psi_L \left( \frac{\sigma(\pi_L)}{\pi_L} \right) = 1\) 

    2. \(\eval{\varphi_{L_{nr} / L}}_{K_{nr}} = \varphi_{K_{nr} / K}\), hence:
    
    \[
        N_{L_{nr} / K_{nr}} \circ \psi_L = \psi_K \circ N_{L_{nr} / K_{nr}}
    \]

    These two points show the commutativity of this diagram.

    \begin{lemma}
        \begin{enumerate}[label=\roman*)]
            \item \(\psi_K : U(K_{nr}) \to U(K_{nr})\) is surjective and \(\psi_K^a: \mathcal{O}_{K_{nr}} \to \mathcal{O}_{K_{nr}}, \psi_K^a(a) = \varphi_{K_{nr} / K}(a) - a\).
            \item \(\psi_L: V(L_{nr} / K_{nr}) \to V(L_{nr} / K_{nr})\) is surjective.
            \item \(\ker \psi_K = U(K)\) 
        \end{enumerate} 
    \end{lemma}

    \begin{proof}
        Set \(U^n = 1 + \pi_K^n \mathcal{O}_{K_{nr}} \leq U(K_{nr})\)
        
        \begin{enumerate}[label=\roman*)]
            \item One has \(\psi_K(a) \underset{(1)}{\cong} a^{q-1} \mod U^1 \implies \psi_K \mod U^1\) is surjective since \(k_{K_{nr}} = \overline{k}_{K_{nr}}\). Also,
            \[
                \psi_K : U^n / U^{n+1} \to U^n / U^{n+1} 
            \]

            \[
                1 + a \pi^n \mod U^{n+1} \mapsto  1 + (a^q - a) \pi^n \mod U^{n+1}
            \]

            \((1+a^q \pi^n)(1 + a \pi^n) ^{-1} = 1 + (a^q - a) \pi^n\)

            \(\frac{1}{1+x} = 1 - x + \cdots\)
            
            And since \(a \mapsto a^q - a\) is surjective on \(k_{K_{nr}}\) this map is surjective.

            By HW3/1 \(\psi_K : U(K_{nr}) \to U(K_{nr})\) is surjective. Same reasoning gives that \(\psi_K^a : \mathcal{O}_{K^{nr}} \to \mathcal{O}_{K_{nr}}\) is surjective.

            \item For \(\sigma \in G(L / K) = G(L_{nr} / K_{nr}), x\in U(L_{nr})\) consider \(\sigma (x) x ^{-1} \in V(L_{nr} / K_{nr})\).
            
            By i we can choose \(y\in U(L_{nr})\) such that \(x = \psi_L (y)\). \(L^{nr} / K = L . K^{nr} / K\) is abelian.

            Thus, \(\varphi_{L_{nr} / L} \circ \sigma = \sigma \circ \varphi_{L_{nr} / L}\)
            
            \(\implies \psi_L \left( \frac{\sigma(y)}{y} \right) = \sigma (x) x ^{-1} \in V(L_{nr} / K_{nr})\). This shows ii. 
            
            \item \(u\in \ker \psi_K\). Write \(u = \sum_{i=0}^{\infty} a_i \pi^i, a_i \in \mu(K^{nr}) \cup \{ 0 \}, a_0\neq 0\).
            
            \(\implies \psi_K(u) = \varphi_{K_{nr} / K}(u) u ^{-1} = 1 \mod \pi. a_0^{q-1} \equiv 1\mod\pi\). \(a_0\) is a root of unity \(\implies a_0^{q-1} = 1\). \(\implies a_0 \in \mu_{q-1}(K^{nr})\). By Hensel's lemma, \(a_0\in \mu_{q-1}(K)\).
            
            By induction, assume \(a_0, \cdots , a_{n-1} \in \mu(K) \cup \{ 0 \}, n \geq 1\). \(\exists w\in U(K): u w ^{-1} = 1  + a \pi^n\) where \(a \in \mathcal{O}_{K_{nr}}\).

            \(u = a_0 + a_1 \pi + \cdots + a_{n-1} \pi^n + b \pi^n\)
            
            \(=\underbrace{(a_0 + \cdots + a_{n-1} \pi^{n-1})}_{=w} \left( 1 + \frac{b \pi^n}{a_0 + a_1 \pi + \cdots + a_{n-1} \pi^{n-1}}\right)\).
            
            \(\implies 1 = \psi_K (u) = \psi_K(u w ^{-1}) = \frac{1 + \varphi_{K_{nr} | K}(a) \pi^n}{1 + a \pi^n} \equiv 1 + (a^q - a) \pi^n \mod \pi^{n+1}\)
            
            Therefore, \(a^q \equiv a \mod \pi \implies a = c_n + b_n \pi\) with \(c_n \in \mu_{q-1}(K)\cup \{ 0 \}, b_n \in \mathcal{O}_{K_{nr}}\).
            
            Thefefore, \(a_n \in \mu_{q-1}(K) \cup \{ 0 \}\).

            
        \end{enumerate} 
    \end{proof}

    \section*{Thursday, 2/6/2025}
    
    \begin{theorem}
        Suppose \(k = k_K\) is finite. For any abelian totally ramified exttension \(L / K\), there is a canonical homomorphism:

        \[
            \eta_{L / L} : U(K) \to G(L / K)
        \]

        Which is surjective and has kernel \(N_{L / K}(U(L))\).

        Hence \(\eta_{L / K}\) induces an isomorphism:

        \[
            \frac{U(K)}{N_{L / K}(U(L))} \xrightarrow{\eta_{L / K}} G(L / K)
        \]

        \(\eta_{L / K}\) is \underline{functorial} in the sense that if \(M / K \subseteq L / K\) is a subextension then there is a commutative diagram:

        \begin{center}
            \begin{tikzcd}
                1 \ar[r] & N_{L / K}(U(L)) \ar[r] \ar[d, hook] & U(K) \ar[r,"\eta_{L / K}"] \ar[d,"id"] & G(L / K) \ar[r] \ar[d, two heads, "res"] & 1 \\

                1 \ar[r] & N_{M / K}(U(M)) \ar[r] & U(K) \ar[r, "\eta_{M / K}"] & G(M / K) \ar[r] & 1
            \end{tikzcd}
        \end{center}
    \end{theorem}

    \begin{proof}
        From the diagram we considered before the snake lemma gives us an exact sequence:

        \begin{center}
            \begin{tikzcd}
    
                U(L) \cap V(L_{nr} / K_{nr}) \ar[r] & U(L) \ar[dr] \ar[r, two heads] & \ker(\overline{\psi}_L) \ar[d, "\subset"] \ar[r, "N"] & \ker(\psi_K) \ar[dddll] \ar[d] \\
                1 \ar[r] & G(L / K)  \cong G(L_{nr} / K_{nr}) \ar[d,"\sigma\mapsto 1"] \ar[r,"i_{L_{nr} / K_{nr}}"] & \frac{U(L_{nr})}{V(L_{nr} / K_{nr})} \ar[d,"\overline{\psi}_L"] \ar[r, "N"] & U(K_{nr}) \ar[d,"\psi_K"] \ar[r] & 1 \\
                1 \ar[r] & G(L / K) \ar[d,"\cong"] \ar[r,"i_{L_{nr} / K_{nr}}"] & \frac{U(L_{nr})}{V(L_{nr} / K_{nr})} \ar[r] \ar[d] & U(K_n) \ar[r] & 1 \\
                & G(L / K) \ar[r] & \operatorname{coker}(\overline{\psi_L}) \ar[d] \\ & & 1
            \end{tikzcd}
        \end{center}

        \[
            \ker(\overline{\psi_L}) \to \ker(\psi_K) \overset{1.3.17ii}{=} U(K) \xrightarrow{\eta_{L / K}} G(L / K) \to \operatorname{coker} (\overline{\psi}_L) \overset{1.3.17i}{=} 1
        \]

        Let \(\overline{u} = u V(L_{nr} / K_{nr}) \in \ker (\overline{\psi_L}) \implies \psi_L(u) \in V(L_{nr} / K_{nr})\).
        
        1.3.17ii \(\implies \exists w\in V(L_{nr} / K_{nr})\) such that \(\psi_L(w) = \psi_L(u)\).
        
        Thus, \(\psi_L(u w ^{-1}) = 1\).
        
        1.3.17iii \(\implies u w ^{-1} \in U(L)\).

        Therefore we can deduce that \(\ker(\overline{\psi_L}) = U(L) V(L_{nr} / K_{nr})\).
        
        \(\implies \operatorname{im} (\ker (\overline{\psi}_L) \xrightarrow{N} \ker (\psi_K) = U(K)) = N_{L / K}(U(L))\).
        
        Hence, \(\frac{U(K)}{N(U(L))} \xrightarrow[\eta_{L / K}]{\cong} G(L / K)\)
        
        The functoriality of \(\eta_{L / K}\) follows from the functoriality of the connecting homomorphism of the snake lemma.

    \end{proof}

    \begin{theorem}
        For every finite abelian extension \(L / K\) (not necessarily totally ramified), there is a canonical isomorphism

        \[
            \eta_{L / K} : \frac{U(K)}{N_{L / K}(U(L))} \to G(L / K)_0
        \]

        which is functorial w.r.t.\ subextensions \(M / K\) as in the previous theorem.
    \end{theorem}

    \begin{proof}
        We use the \underline{decomposition theorem} [1.3.5].
        
        \(\exists L^{\prime} \subset L^{nr}\) such that \(L^{\prime} / K\) is finite abelian [since \(L^{nr} = L . K^{nr}\) the compositum of two abelian extensions] such that \((L^{\prime})^{nr} = L^{\prime} . K^{nr} = L . K^{nr} = L^{nr} \).

        Then, \(\operatorname{Gal} (L^{\prime} / K) \cong G((L^{\prime})^{nr} / K^{nr}) \cong G(L^{nr} / K^{nr}) \cong G(L / K)_0\).
        
        1.3.18 \(\implies \frac{U(K)}{N_{L^{\prime} / K}(U(L^{\prime}))} \cong G(L^{\prime} / K) = G(L / K)_0\).
        
        We can pass to the completion.

        Since \(L^{\prime} K_r \overset{(1)}{=} L.K_r\) for some unramified \(K_r / K\) (prooof  of 1.3.5).

        and \(N_{L^{\prime} K_r / L^{\prime}}(U(L^{\prime}K_r)) \overset{(2)}{=}  U(L^{\prime})\) by 1.3.4i
        
        \(N_{LK_r / L}(U(LK_r)) \overset{(3)}{=} U(L)\) by 1.3.4i.

        \(\implies N_{L^{\prime} / K}(U(L^{\prime})) \overset{(2)}{=} N_{L^{\prime} / K}(N_{L^{\prime} K_r / L^{\prime}}(U(L^{\prime} K_r)))\)


        \(= N_{L^{\prime} K_r / K}(U)L^{\prime} K_r\)
        
        \(\overset{(1)}{=} N_{LK_r / K}(U(LK_r))\)

        \(= N_{L / K}(N_{L K_r / L}(U(LK_r)))\) 

        \(\overset{(3)}{=} N_{L / K}(U(L))\) 
        
        \(\implies\) we get an isomorphism:


        \[
            \frac{U(K)}{N_{L / K}(U(L))} \xrightarrow[\cong]{\eta_{L / K}} G(L / K)_0
        \]

    \end{proof}

    Goal: we want to prove that there is a canonical isomorphism:

    \[
        K^\times / N_{L / K} (L^ \times) \xrightarrow{\cong} G(L / K)
    \]

    for any finite abelian extension \(L / K\).

    We want to do something with uniformizers, and uniformizers should roughly correspond to frobenius elements.

    \subsection*{Norm Groups of Lubin-Tate Extensions}

    Let \(\pi\) be a uniformizer of \(K\), \(\vert k_K \vert = q = p^f, \mathcal{O} = \mathcal{O}_K, e \in \mathscr{E}_\pi\) aka a LT series for \(\pi\).

    Let \(F_e\) be an LT \(\mathcal{O}\)-module for \(e\), and \(L_m = L_{\pi, m} = K(F_e[\pi^m])\) aka the series generated by \(\pi^m\) torsion points. This is independent of the choice of \(e\) but does depend on \(\pi\).

    We know that \(L_m / K\) is totally ramified abelian Galois extension of degree \((q-1)q^{m-1}\) where \(m \geq 1\). Recall that \(L_0 = K\).

    Set \(U^m(K) = 1 + \pi^m(K) \leq U(K), U^0(K) = U(K)\).

    We now have \underline{two} description of \(G(L_m / K)\).

    \begin{enumerate}[label=\arabic*)]
        \item Via LT theory: the map \(U(K) / U^m(K) \xrightarrow{\cong} G(L_m / K)\) defined by \(a U^m(K) \mapsfrom \sigma\) if for all \(\alpha \in F_e[\pi^m], \sigma(\alpha) = [a]_{F_e}(\alpha)\)
        
        \item Via \(\eta_{L / K}: U(K) / N_{L_m / K}(U(L_m)) \xrightarrow{\cong} G(L_m / K)\) [we don't need to put ramification since it is totally ramified].
    \end{enumerate} 

    Natural questions:

    \begin{enumerate}[label=\roman*)]
        \item Is \(N_{L_m / K}(U(L_m)) = U^m(K)\)? Answer is yes, but not obviously so.
        \item If the answer to i is yes [which it is] then are these two maps the same? [Answer is no, but kind of close! \(\forall a\in U(K), \forall \alpha \in F_e[\pi^m], \eta_{L_m / K}(a) (\alpha) = [a ^{-1}](\alpha)\)]
    \end{enumerate} 

    \begin{lemma}
        Given a monic polynomial \(f(x) \in \mathcal{O} [x] \setminus \{ 0 \}\) with degree \(n\) with \(p\nmid n\), there exists \(s\in \mathbb{Z}_{> 0}\) and \(r(x) \in \mathcal{O} [x]\) with \(r(0)=1, \deg r < s\) such that the \(\mod\pi\) reduction of \(h(x)\coloneqq x^s f(x) + r(x)\) is separable.
    \end{lemma}

    \begin{proof}
        HW4
    \end{proof}

    \begin{theorem}
        \(N_{L_m / K}(U(L_m)) = U^m (K)\) 
    \end{theorem}

    \begin{proof}

        We show first \(N(U(L)) \subset U^m(K)\) 
        
        Set \(L_m = L\) and write \(w\in U(L)\) as \(w = \zeta u\) with \(u\in U^{\prime} (L)\) and \(\zeta \in \mu(L) \underset{=}{L \text{ totally ramified}} = \mu(K)=\mu_{q-1}(K)\).

        \(\implies N(w) = N(\zeta u) = \zeta^{[L:K]} N(u) = \zeta^{(q-1)q^{m-1}}N(u) = N(u)\).
        
        Suffices to show that \(N_{L / K}(U^{\prime}(L)) \subset U^m(K)\).

        Case \(m= 1\) is easy.

        Assume \(m \geq 2\), set \(n = m (q-1)q^{m-1} - 1 \implies p\nmid n.\) Let \(\lambda\) be a uniformizer of \(L\). Write \(U^{\prime} (L) \ni u = 1 + a_1 \lambda + \cdots + a_n \lambda^n + x, v(x) \geq n+1 = v(\pi^m)\).

        \(v = v_L =\) normalized valuation on \(L, v_L(\lambda) = 1 (\implies v(\pi) = (q-1)q^{m-1})\).

        Consider \(f(x) = x^n + a_1 x^{n-1} + \cdots + a_n \in \mathcal{O}[x]\). Since \(p\nmid n\) we can apply 1.3.20 and get \(h(x) = x^s f(x) + r(x), h \mod \pi\) separable. Then \(\overline{h}\) has \(s + n \coloneqq t = \deg(h) = \deg(\overline{h})\) distinct roots in \(\overline{k} = \overline{\mathbb{F}_q}\). Hensel's lemma implies roots of \(h\) in \(\overline{K}\) are actually in \(K_{nr}\).

        Let \(z_1, \cdots , z_t\) be the roots of \(h(x)\) in \(K_{nr}\).

        Since \(h\) is monic, they actually lie on \(\mathcal{O}_{K_{nr}}\). \(z_i \in \mathcal{O}_{K_{nr}}\).

        Recall that \(h(0)=r(0)=1\) so \(\prod z_i = \pm 1\).
        
        Thus, \(z_i \in \mathcal{O}_{K_{nr}}^\times = U(K_{nr})\).
    
        \section*{Tuesday, 2/11/2025}
        
        Moreover:

        \[
            (1 - z_1 \lambda)(1- z_2 \lambda) \cdots (1-z_t \lambda) = 1 - \left( \sum_{i} z_i \right) \lambda
        \]

        \[
            = 1 + a_1 \lambda + a_2 \lambda^2 + \cdots + a_n \lambda^n + x^{\prime}, v_L(x^{\prime}) \geq n+1
        \]

        \[
            = 1 + a_1 \lambda + \cdots + a_n \lambda^n + x + (x^{\prime} - x) = v \left( 1 + \frac{x^{\prime} - x}{v} \right) 
        \]


        Let \(y\coloneqq \frac{x^{\prime} - x}{v}\). So \(v_L(y) \geq n + 1\).

        Therefore,

        \[
            N(1 + y) = 1 + \sum_{\sigma \in G(L / K)} \sigma (y) + \cdots = 1 + y^{\prime}, v_L (y^{\prime}) \geq n + 1 = v_L(\pi^m)
        \]

        Thus, \(y^{\prime} \in \mathcal{O}_K \implies y^{\prime} \in \pi^m \mathcal{O}_K\).

        Therefore, \(N(1+y) \equiv 1 \mod \pi^m\).

        Therefore, \(N(u) \in U^m(K) \iff N \left( \prod_{i=1}^{t} (1 - z_i \lambda) \right) \in U^m(K)\,(2)\)
        
        NOTE: UNUSED: Then, \underline{STS}: \(\forall 1 \leq i \leq t: N_{L_m / K}(1-z_i \lambda) \in U^m(K)\).

        Since \(L_m / K\) is totally ramified, \(G(L_{nr} / K_{nr}) \xrightarrow[res]{\cong} G(L / K)\).

        Therefore, \(N_{L / K}(1 - z_i \lambda) = N_{L_{nr} / K_{nr}}(1 - z_i \lambda) = N_{L_{nr} / K_{nr}} (z_i (z_i ^{-1} -  \lambda))\)
        
        \(= z_i^d N_{L_{nr} / K_{nr}}(z_i ^{-1} - \lambda)\)

        Setting \(\zeta_i = z_i ^{-1}, e_m(x) = [\pi^m]_{F_e}\), 

        \(N_{L_{nr} / K_{nr}}(\zeta_i - \lambda)= \prod_{\sigma \in G(L / K)}(\zeta_i - \sigma(\lambda))=\text{min. poly of } \lambda(\zeta_i)\).
        
        From here WLOG assume that \(e(x) = \pi x + x^q\). We can further assume that \(e_m(\lambda) = 0\) but \(e_{m-1}(\lambda)\neq 0\).

        Then, the minimal polynomial of \(\lambda\) is \(\frac{e_m(x)}{e_{m-1}(x)}\).

        Thus, \(N_{L_{nr} / K_{nr}}(\zeta_i - \lambda) = \left( \frac{e_m}{e_{m-1}} \right)(\zeta_i)\). Since \(\zeta_i\) is not a root of these, \(= \frac{e_m(\zeta_i)}{e_{m-1}(\zeta_i)}\). Hence,

        \[
            N \left( \prod_i (1 - z_i \lambda) \right) = \prod N(1 - z_i \lambda) = \left( \prod z_i ^d \right) \prod_i N(\zeta_i - \lambda) = \left( \prod z_i \right)^d \prod_i N(\zeta_i - \lambda)
        \]

        Since \(d\) is even,

        \[
            = \prod N(\zeta_i - \lambda) = \prod_i \frac{e_m(\zeta_i)}{e_{m-1}(\zeta)i} = 1 + \frac{\prod_i e_m(\zeta_i) - \prod_i e_{m-1}(\zeta_i)}{\prod_i e_{m-1}(\zeta_i)}
        \]

        Note that \(\prod_i e_{m-1}(\zeta_i), \prod_i e_m(\zeta_i)\) have \(v_L = 0\).

        Then it suffices to show that \(\prod_i e_m (\zeta_i) - \prod_i e_{m-1} (\zeta_i) \equiv 0\mod \pi^m \, (3)\).

        Note: \(e(\zeta_i) \equiv \zeta_i^q \mod \pi\). It is the same as applying the frobenius. Note that the frobenius must permute the roots.

        Thus, \(e(\zeta_i) \equiv \zeta_{\tau(i)}\) where \(\tau\) is some permutation of \(\{ 1, \cdots , t \}\).

        Lifting the Expontent? \(\implies e(\zeta_i)^q = \zeta_{\tau(i)}\mod \pi^2\)

        \(\implies e_2(\zeta_i) = e_1(\zeta_{\tau(i)})\mod \pi^2\).
        
        Inducting, \(e_m(\zeta_i) \equiv e_{m-1} (\zeta_{\tau(i)})\mod \pi^m\)
        
        Product \(\implies \prod_i e_m(\zeta_i) \equiv \prod_i e_{m-1} (\zeta_{\tau(i)}) \mod \pi^m\)
        
        This shows (3) \(\implies\) (2) \(\implies\) (1).

        This ends Step 1.

        Step 2: \(N_{L / K}(U(L)) = U^m(K)\).

        Proof of Step 2 \(\vert G(L_m / K) \vert \underset{1.3.18}{=} \vert U(K) / N(U(L)) \vert \geq \vert U(K) / U^m(K) \vert\)
        
        inequality since \(N(U(L_m)) \subset U^m(K)\) from step 1.

        However, \(\vert U(K) / U^m \vert = \vert G(L / K) \vert\) from LT Theory theorem 1.1.2 [as discussed in Fall].
        
    \end{proof}

    \subsection*{Local Class Field Theory}

    Let \(K\) be a field. Then we have a correspondence:

    \[
        \left\{ \mathcal{N} \subset K^\times \eval \mathcal{N} \text{ open }, [K^\times : \mathcal{N}] < \infty \right\} \leftrightarrow \left\{ L / K \subset K^{ab} / K \text{ finite exts}  \right\} 
    \]

    \[
        \mathcal{N}  \mapsto L_{\mathcal{N}} = \text{ class field assoc. to } \mathcal{N}
    \]

    Here \(N_{L_{\mathcal{N}} / K}(L_{\mathcal{N}}^\times) = \mathcal{N}\) and \(K^\times / \mathcal{N} \xrightarrow{\cong} G(L_{\mathcal{N}} / K)\).
    
    \[
        N_{L / K}(L^\times) \mapsfrom L
    \] 

    \(L_{\mathcal{N}}\) is called the \underline{class field corresponding to \(\mathcal{N}\)}.

    Let \(K\) be as above, \(\vert k \vert < \infty\). Let \(K^{ab} \subset \overline{K}\) be the maximal abelian extension of \(K\).

    \[
        G(K^{ab} / K)_0 \coloneqq \ker (G(K^{ab} / K) \to G(k_{K^{ab}} / k) = G(\overline{k} / k))
    \]

    Recall if we have \(M / K \subseteq L / K\) we indeed have \(G(L / K)_0 \xrightarrow{res} G(M / K)_0\). This is not true for lower numbering for larger numbers!!!

    \begin{theorem}

        \begin{enumerate}[label=\roman*)]
            \item The isomorphisms \(\eta_{L / K}: U(K) / N(U(L)) \xrightarrow{\cong} G(L / K)_0\) from 1.3.19 for \(L / K\) finite abelian induce an isomorphism:

            \[
                U(K) \xrightarrow[\eta_K]{\cong} G(K^{ab} / K)_0
            \]

            \item The exact sequence:
            \[
                1 \to G(K^{ab} / K)_0 \to G(K^{ab} / K) \to G(\overline{k} / k) \to 1
            \]

            splits continuous (but not canonically).

        \end{enumerate}

    \end{theorem}

    \begin{proof}
        \begin{enumerate}[label=\roman*)]
            \item Let \(\mathscr{A}\) be the set of all finite subestensions \(L / K \subset K^{ab} / K\).
            Set \(\mathcal{N}_L^0 = N_{L / K}(U(L))\). Then \((\eta_{L / K})_{L \in \mathscr{A}}\) induces an isomorphism:

            \[
                \varprojlim_{L \in \mathscr{A}} U(K) / \mathcal{N}^0_L \xrightarrow{\cong} \varprojlim_{L \in \mathscr{A}} G(L / K)_0 \underset{\text{exercise}}{=} G(K^{ab} / K)_0
            \]

            Given \(L\in \mathscr{A}\), \(U(L)\) is compact. Since \(N_{L / K}\) is continuous, \(N_{L / K}(U(L))\) is compact. A compact subset in a Hausdorff space is closed. Thus, \(\mathcal{N}_L^0\) is closed. \(\mathcal{N}_L^0\) has finite index in \(U(K)\). It is also complement of union of finitely many cosets thus it is also open..

            Thus, \(\exists m \geq 0 : U^m(K) \subseteq \mathcal{N}_L^0\).

            1.3.21 \(\implies N_{L_m / K}(U(L_m)) = U^m(K) \implies\) the system \((\mathcal{N}_L^0)_{L\in \mathscr{A}}\) is equivalent to the system \((U^m(K))_{m\geq 0}\) but the profinite completion 
                
            \[
                \varprojlim_{m} U(K) / U^m(K) \xleftarrow{\cong} U(K)
            \]

            \[
                \varprojlim_{L\in \mathscr{A}} U(K) / \mathcal{N}_L^0 \xleftarrow{\cong} U(K)
            \]

            This proves i.
                
            \item HW 3
        \end{enumerate} 
    \end{proof}

    \begin{theorem}
        With \(L_\pi = \bigcup_{m} L_{\pi, m}\) as in section 1.1 we have \(K^{ab} = L_\pi . K^{nr}\). 
    \end{theorem}

    \begin{proof}
        Consider the commutative diagram with exact rows:

        \begin{center}
            \begin{tikzcd}
                & U(K) \ar[d, "\cong \eta_K","1.3.22"']\\
                1 \ar[r] & G(K^{ab} / K)_0 \ar[d, "\alpha=res"] \ar[r] & G(K^{ab} / K) \ar[d,"\beta=res"] \ar[r] & G(\overline{k} / k) \ar[d, "\gamma=res=id"] \ar[r] & 1 \\
                1 \ar[r] & G(L_\pi K^{nr} / K)_0 \ar[r] \ar[d,"="] & G(L_\pi K^{nr} / K) \ar[r] & G(\overline{k} / k) \ar[r] & 1\\
                & \varprojlim G(L_m K^{nr} / K)_0 \ar[d,"="] \\
                & \varprojlim_m G(L_m / K) \ar[d,"="]\\
                & \varprojlim_m U(K) / U^m(K) \ar[d,"="]\\
                & U(K)
            \end{tikzcd}
        \end{center}

        Note: \(\alpha = id \implies \beta\) is an isomorphism, thus \(G(K^{ab} / L_\pi K^{nr}) = \{ 1 \} \implies L_\pi K^{nr} = K^{ab}\) 
    \end{proof}
    
    \section*{Thursday, 2/13/2025}
    
    \begin{lemma}
        Let \(\pi\) be a uniformizer of \(K, e \in \mathscr{E}_\pi\) a LT series, \(L_{\pi, m} =\) Lubin tate extension associated to \(F_e\) [which is independent of choice of \(e\)]. Then, \(\pi\in N_{L_{\pi, m} / K}(L_{\pi, m}^\times =)\).
    \end{lemma}

    \begin{proof}
        WLOG we may assume \(e(x) = \pi x + x^q\). Set \(e_m(x) = (\underbrace{e \circ \cdots \circ e}_{m})(x)\).
        
        We've seen \(\frac{e_m(x)}{e_{m-1}(x)} \in \mathcal{O}_K[x]\) is irreducible polynomial over \(K\) of degree \((q-1)q^{m-1}\). This is not only irreducible, but also Eisenstein. Since we're adjoining root \(\lambda_m\) of an Eisenstein polynomial, \(\lambda_m\) must be a uuniformizer.
        
        \[
            \frac{e_m(x)}{e_{m-1}(x)} = \prod_{\sigma\in G_{L_{\pi,m}}} (x-\sigma(\lambda_m))
        \]

        Now note that,

        \[
            \pi = \left( \frac{e_m(x)}{e_{m-1}(x)} \right) (0) = \prod_\sigma (-\sigma(\lambda_m)) = \prod_\sigma \sigma(-\lambda_m) = N_{L_{\pi,m} / K} (\lambda_m)
        \]

    \end{proof}

    \subsection*{Definition of the norm residue symbol}

    Let \(L^{\prime} / K\) be a totally ramified finite abelian extension. Let \(\lambda\in L^{\prime}\) be a uniformizer and set \(\pi = N_{L^{\prime} / K}(\lambda)\). Since it is totally ramified, \(\pi\) must be a uniformizer of \(K\). Let \(K_n / K\) be the unramified extension of degree \(n\). Set \(L \coloneqq L^{\prime} . K_n\). This is abelian over \(K\). Then the exact sequence:
    
    \begin{center}
        \begin{tikzcd}
            1 \ar[r] & G(L / K)_0 \ar[r] & G(L / K) \ar[r] & \underset{\cong G(k_L / k)}{G(K_n / K)} \ar[r] & 1
        \end{tikzcd}
    \end{center}

    The exact sequence splits since the canonical map \(G(L / K) \to G(L^{\prime} / K) \times G(K_n / K)\) is an isomorphism.

    Hence, there exists a unique \(\varphi_{L / L^{\prime}} \in G(L / K)\) such that \(\eval{\varphi_{L / L^{\prime}}}_{L^{\prime}} = \operatorname{id}_{L^{\prime}}\) and \(\eval{\varphi_{L / L^{\prime}}}_{K_n} = \varphi_{K_n / K}\).
    
    Then we define \(r_{L / K}: K^\times \to G(L / K)\) such that,

    \[
        r_{L / K}(a) = \eta_{L / K} \left( \underbrace{a ^{-1} \pi^{v(a)}}_{\in U(K)}  \right) \varphi_{L / L^{\prime}}^{v(a)} 
    \]

    Where \(v: K^\times \to \mathbb{Z}\) given by \(\pi \mapsto 1\) is the normalized valuation and \(\eta_{L / K} : U(K) \to G(L / K)\) is the surjective homomorphism in 1.3.19 with k\(\ker(\eta_{L / K}) = N_{L / K}(U(L))\).  

    Note: \(r_{L / K}\) is a homomorphism.

    Set \(\mathcal{N}_L = N_{L / K}(L^\times), \mathcal{N}_L^0 = N_{L / K}(U(L))\).
    
    \(r_{L / K}(a)\) is also written as \((a, L / K)\) and is alled the \underline{norm residue symbol}.

    \begin{proposition}
        Let \(L ^{\prime} / K\) and \(L = L^{\prime} . K_n, \lambda \in L^{\prime}\) a uniformizer and \(\pi = N_{L^{\prime} / L}(\lambda)\) be as above. Then, \(r_{L / K}\) is surjective and its kernel is \(\mathcal{N}_L\). Hence, \(r_{L / K}\) induces an isomorphism which by abuse of notation we can also denote as \(r_{L / K}\).

        \[
            \frac{K^\times}{\mathcal{N}_L} \xrightarrow[r_{L / K}]{\cong} G(L / K)
        \]
    \end{proposition}

    \begin{proof}
        We have \(L^\times = U(L) \cdot \lambda^\mathbb{Z}\) since \(L / L^{\prime}\) is unramified. Applying the norm, \(\mathcal{N}_L = \mathcal{N}_L^0 \cdot N_{L / K}(\lambda)^\mathbb{Z} = \mathcal{N}_L^0 N_{L^{\prime} / K}(N_{L / L^{\prime}}(\lambda))^\mathbb{Z} = \mathcal{N}_L^0 \cdot N_{L^{\prime} / K}(\lambda^n)^\mathbb{Z} = \mathcal{N}_L^0 \cdot \pi^{n \mathbb{Z}}\).
        
        Write \(a\in K^\times\) as \(a = u \pi^m\) so that \(u \in U(K), m\in \mathbb{Z}\).

        Thus, \(r_{L / K}(a) = \eta_{L / K}(u ^{-1})\varphi_{L / L^{\prime}}^m \overset{!}{=} \operatorname{id} \iff \eta_{L / K}(u) = \operatorname{id}\) and \(\varphi_{L / L^{\prime}}^m = \operatorname{id}\)
        
        \(\xLeftrightarrow{1.3.19} u \in \mathcal{N}_L^0, n \mid m\, (\operatorname{ord}(\varphi_{L / L^{\prime}})=\operatorname{ord}(\varphi_{K_n / K})=n) \iff a \in \mathcal{N}_L\).

        1.3.19: \(\eta_{L / K}: U(K) \to G(L / K)_0\) is surjective, and since \(G(L / K) = G(L / K)_0 \cdot \varphi_{L / L^{\prime}}^\mathbb{Z}\) we deduce that \(r_{L / K}\) is surjective.
    \end{proof}

    Next goals:

    \begin{enumerate}[label=\arabic*)]
        \item Show that \(r_{L / K}\) is independent of the choice \(L^{\prime} \subset L\).
        \item To show that for \underline{any} subextension \(M / K \subset L / K\),
        \[
            \ker (K^\times \to G(L / K) \to G(M / K)) = \mathcal{N}_M
        \]
    \end{enumerate} 

    \begin{lemma}
        If \(L / K\) is an arbitrary finite abelian extension, then \([K^\times : \mathcal{N}_L] = [L : K]\).
    \end{lemma}

    \begin{proof}
        Let \(K_L \subset L\) be the maximal unramified subextension. Then \(L / K_L\) is totally ramified and if \(\lambda\) is a uniformizer of \(L\), then \(\pi \coloneqq N_{L / K_L}(\lambda)\) is a unfiromizer of \(K_L\). Hence, upto an element of \(U(K_L)\) also a unfirmozer of \(K \implies \vert K_L^\times \vert = \vert K^\times \vert = \vert \pi \vert^\mathbb{Z}\).
        
        \[
            \implies \left\vert \frac{K^\times}{\mathcal{N}_L} \right\vert = \left\vert \frac{U(K)}{\mathcal{N}_L^0} \right\vert \left\vert \frac{\vert K^\times \vert}{\vert N_{L / K}(\lambda) \vert^{\mathbb{Z}}} \right\vert 
        \]

        \[
            \overset{1.3.19}{=} \vert G(L / K)_0 \vert \left\vert \frac{\vert \pi \vert ^\mathbb{Z}}{\vert N_{K_L / K}(\pi) \vert ^\mathbb{Z}} \right\vert = \vert G(L / K)_0 \vert \left\vert \frac{\vert \pi \vert ^\mathbb{Z}}{\vert \pi \vert ^{[K_L : K]\mathbb{Z}}} \right\vert 
        \]

        \[
            = \vert G(L / K)_0 \vert [K_L : K] = e(L / K) f(L / K) = [L : K]
        \]
    \end{proof}

    \begin{proposition}
        Let \(L^{\prime}, L, \lambda \in L^{\prime}\) be as in the beginning of this section. Let \(L_2^{\prime} \subset L\) be another totally ramified extension of \(K\) such that \(L_2^{\prime} . K_n = L\). Then,

        \[
            \ker(K^\times \xrightarrow{r_{L / K}} G(L / K) \to G(L_2^{\prime} / K)) = \mathcal{N}_{L_2^{\prime}} \subset K^\times
        \]
    \end{proposition}

    \begin{proof}
        Set \(r = r_{L / K}: K^\times \to G(L / K)\). Recall \(r(a) = \eta_{L / K}(a ^{-1} \pi^{v(a)}) \varphi_{L / L^{\prime}}^{v(a)}\). Let \(r_2\) be the composite homomorphism:
        
        \begin{center}
            \begin{tikzcd}
                K^\times \ar[rr, bend left,"r_2"] \ar[r,"r"] & G(L / K) \ar[r] & G(L_2' / K)
            \end{tikzcd}
        \end{center}

        \(r_2\)  is surjective by \(1.3.25\). \(r_2\) induces an isomorphism:

        \[
            K^\times / \ker(r_2) \to G(L_2^{\prime} / K)
        \]

        If we show that \(\mathcal{N}_{L_2^{\prime}} \subset \ker (r_2) \implies\) surjection \(\underbrace{K^\times / \mathcal{N}_{L_2^{\prime}}}_{\text{order } [L_2^{\prime} : K]} \to K^\times / \ker(r_2) \xrightarrow{\cong} G(L_2^{\prime} / K) \)
        
        Hence \(N_{L_2^{\prime}} = \ker r_2\).

        STS: \(\mathcal{N}_{L_2^{\prime}} \subset \ker(r_2)\).

        \(\mathcal{N}_{L_2^{\prime}}= \mathcal{N}_{L_2^{\prime}}^0 \mathcal{N}_{L_2^{\prime} / K}(\lambda_2)^\mathbb{Z}\) for any uniformizer \(\lambda_2\) of \(L_2^{\prime}\).
        
        Since \(U(L_2^{\prime}) = \left\{ \lambda_2(\widetilde{\lambda}_2) ^{-1} \mid \lambda_2, \widetilde{\lambda}_2 \text{ uniformizer of } L_2^{\prime} \right\} \), it suffices to show \(N_{L_2^{\prime} / K}(\lambda_2) \in \ker (r_2)\) for any unformizer \(\lambda_2\) of \(L_2^{\prime}\).

        Note: \(L / L_2^{\prime}\) is unramified sicne \(L = L_2^{\prime} . K_n\). Therefore, \(G(L / L_2^{\prime})\) is cycic and if we restrict this to \(G(K_n / K)\) we get an isomorphism. Since \(G(K_n / K)\) is generated by the frobenius \(\langle \varphi_{K_n / K} \rangle \) and \(\eval{\varphi_{L / L^{\prime}}}_{K_n} =\varphi_{K_n / K}\):

        Let \(\varphi_{L / L_2^{\prime}}\) be the unique element with \(\eval_{\varphi_{L / L_2^{\prime}}}= \operatorname{id}\). Then, \(\eval{\varphi_{L / L_2^{\prime}} \circ \varphi_{L / L^{\prime}} ^{-1}}_{K_n} = \operatorname{id}\) and \(\eval{\varphi_{L / L_2^{\prime}}}_{K_n}  = \varphi_{K_n / K}\)  

        \[
            \implies \varphi_{L / L_2^{\prime}} \circ \varphi_{L / L^{\prime}} ^{-1} \in G(L / K)_0 \overset{1.3.19}{=} \eta_{L / K}(U(K))
        \]

        Thus \(\varphi_{L / L_2^{\prime}} = r(u) \varphi_{L / L^{\prime}}\) for some \(u \in U(K)\).
        
        Then, \(G(L / L_2^{\prime}) = \langle \varphi_{L / L_2^{\prime}} \rangle \) 

        Fix a uniformizer \(\lambda_2\) of \(L_2^{\prime}\) which is a uniformizer of \(L\). Then \(\lambda_2 = x \lambda\) where \(\lambda\in L^{\prime}, x \in U(L)\). Therefore,

        \[
            \pi  = N_{L^{\prime} / K}(\lambda) = N_{L / K_n}(\lambda) = N_{L / K_n}(x ^{-1}) N_{L / K_n}(\lambda_2) = N_{L / K_n}(x ^{-1}) N_{L^{\prime}  / K}(\lambda_2) \in K
        \]

        Therefore, \(N_{L / K_n}(x) \in U(K)\).

        Further, \((r(u)\varphi_{L / L^{\prime}})(\lambda_2) = \varphi_{L / L_2^{\prime}}(\lambda_2) = \lambda_2\).

        Now we compute in \(U(L_{nr}) = U((L^{\prime})_{nr})=U((L_2^{\prime})_{nr})\).
        
        \[
            \frac{\eta_{L / K}(u ^{-1})(\lambda)}{\lambda} = \frac{r(u)(\lambda)}{\lambda} = \frac{(r(u)\varphi_{L / L^{\prime}})(\lambda)}{\lambda} = \frac{\overbrace{(r(u)\varphi_{L / L^{\prime}})}^{\varphi_{L / L_2^{\prime}}}(x ^{-1} \lambda_2)}{x ^{-1} \lambda_2}
        \]

        \[
            = \frac{(r(u)\varphi_{L / L^{\prime}})(x ^{-1})(r(v)\varphi_{L / L^{\prime}})(\lambda_2)}{x ^{-1} \lambda_2} = \frac{(r(v)\varphi_{L / L^{\prime}})(x ^{-1}) \lambda}{x ^{-1}  \lambda} = \frac{(r(v)\varphi_{L / L^{\prime}})(x ^{-1})}{x ^{-1}}
        \]

        \[
            = \frac{r(v) (\varphi_{L / L^{\prime}}(x ^{-1}))}{\varphi_{L / L^{\prime}}(x ^{-1})} \frac{\varphi_{L / L^{\prime}}(x ^{-1})}{x ^{-1}} \equiv \frac{\varphi_{L / L^{\prime}}(x ^{-1})}{x ^{-1}} \mod V(L_{nr}^{\prime} / K_{nr})
        \]

    \end{proof}

    \begin{corollary}
        The definition of \(r_{L / K}\) is independent of the choice of \(L^{\prime} \subset L\) and he uniformizer \(\lambda\) of \(L^{\prime}\).
    \end{corollary}

    \begin{theorem}
        For any finite abelian extension \(Ln / K\) choose an unramified extension \(K_n / K\) such that \(L K_n = L^{\prime} K_n\) for \(L^{\prime} / K\) totally ramified. Then,

        \[
            \ker(r_{L K_n / K}: K^\times \to G(LK_n / K) \to G(L / K)) = \mathcal{N}_L
        \]

        and induces an isomorphism:

        \[
            \frac{K^\times}{\mathcal{N}_L} \xrightarrow[r_{L / K}]{\cong} G(L / K)
        \]
    \end{theorem}

    \newpage

    \section*{Tuesday, 2/18/2025}
    
    \section{Tate's Article: \(p\)-divisible Groups}

    Let \(R\) be a complete discrete valuation ring (CDVR) with \(\mathfrak{m} =\) maximal ideal, \(k = R / \mathfrak{m}, K = \operatorname{Frac}(R)\).

    Convention: \(R\) is not a field (\(\iff \mathfrak{m} \neq 0\)).

    Futher Assumption: \(k\) is perfect of \(\operatorname{char}(k) = p > 0\) and \(\operatorname{char}(K) = 0\)  (this is applicable in most settings we want to use this in).

    Example: \(R = \mathbb{Z}_p\) or the ring of integers in a finite extension \(K / \mathbb{Q}_p\) =. Then \(K = \mathbb{Q}_p\) or a finite extension of \(\mathbb{Q}_p\).

    Example: \(K = \widehat{\mathbb{Q}_p^{nr}} p\supset \mathcal{O}_{\widehat{\mathbb{Q}_p^{nr}}}, k = \overline{\mathbb{F}_p}\).

    Example: \(k\) any perfect fielld of \(\operatorname{char}(k) = p\) and \(R = W(k)\) [Witt Vectors]. Then \(\mathfrak{m} = pR\).

    Goal: To study certain continuous representation of \(\mathscr{G}_K = \operatorname{Gal}(\overline{K} / K)\) on finite dimensional \(\mathbb{Q}_p\)-vector spaces. Here we (implicitly) mean continuity by the \underline{Krull Topology}

    Krull Topology on \(\operatorname{Gal}(K / F)\) is defined as follows:
    
    Let \(\mathcal{F} = \{ L \mid L \text{ finite galois subextension of } K \text{ over } F\} \) and \(\mathcal{N} = \{ \operatorname{Gal}(K / L) \mid L \in \mathcal{F} \} \). Then a subset \(X\) of \(\operatorname{Gal}(K / F)\) is open if \(X = \varnothing\) or \(X = \bigcup_i g_i N_i\) with \(g_i \in G, N_i \in \mathcal{N}\). This makes \(\operatorname{Gal}(K / F)\) a topological group.  

    \underline{The Prototypical Example} is the \(p\)-adic cyclotomic character given by:

    \[
        \chi_{cyc} : \mathscr{G}_K \to \mathbb{Z}_p^\times \curvearrowright \mathbb{Q}_q = V
    \]

    \[
        \chi_{cyc}(\sigma) = a \in \mathbb{Z}_p^\times \iff \forall \zeta \in \mu_{p^{\infty}}(\overline{K}): \sigma(\zeta) = \zeta^a
    \]

    This is meant as follow: if \(\zeta^{p^n} = 1\) and \(a \equiv b \mod p^n\) for some \(b\in \mathbb{Z}\) then \(\zeta^a \coloneqq \zeta^b\).
    
    Equivalently, \(\chi_{cyc}\) is obtained as the composition of:

    \begin{center}
        \begin{tikzcd}
            \mathscr{G}_K \ar[r, two heads, "\chi_{cyc}"] \ar[rrr, bend right] & \varprojlim_{n} G(K(\mu_{p^n}) / K) \ar[r, hook] & \varprojlim_{n} (\mathbb{Z} / p^n \mathbb{Z})^\times \ar[r, "="] & \mathbb{Z}_p^\times
        \end{tikzcd}
    \end{center}

    Note: if \(K = \mathbb{Q}_p\) (or \(\widehat{\mathbb{Q}_p^{nr}}\) ) then \(\chi_{cyc}\) is surjective by the irreducibility of the cyclotomic polynomials. If \(K / \mathbb{Q}_{p} \) is finite then \(\chi_{cyc}(\mathscr{G}_K)\) is open.
    
    Note: \(E / K\) elliptic curve, \(E[p^n](\overline{K}) = \left\{ x\in E(\overline{K}) \mid [p^n]_E (x) = \mathcal{O}_E \right\} \cong (\mathbb{Z} / p^n) \oplus (\mathbb{Z} / p^n) \curvearrowleft \mathscr{G}_K \). Therefore,

    \(\mathscr{G}_K \to \varprojlim_n \operatorname{Aut}(E[p^n](\overline{K})) = \operatorname{Aut}(\varprojlim E[p^n](\overline{K} )) \cong \operatorname{Aut} (\varprojlim (\mathbb{Z} / p^n)^{\oplus 2}) = \operatorname{Aut} (\mathbb{Z}_p^{\oplus 2}) = \operatorname{GL}_2(\mathbb{Z}_p) \curvearrowright \mathbb{Q}_p^2\).
    
    This gives us a \(\mathbb{Z}_p\)-linear action of \(\mathscr{G}_K\) on \(T_p E = \varprojlim E[p^n](\overline{K})\) called the \(p\)-adic Tate module of \(E\), and also on \(V_p E = T_p E \otimes_{\mathbb{Z}_p}\mathbb{Q}_p\) which is a \(2\)-dimensional \(\mathbb{Q}_p\) vector space. 

    Final: Let \(K / \mathbb{Q}_p\) finite and \(\pi = \) uniformizer. Then, \(e = \mathscr{E}_\pi\) a LT series for \(\pi\), \(F_e =\) LT \(\mathcal{O}_K\) module.

    \(\mathscr{G}_K \curvearrowright T_p F_e = \varprojlim_n \underbrace{F_e[\pi^n](\overline{K})}_{\cong \mathcal{O}_K(\pi^n)} \underset{\text{non-canonically}}{\cong} \mathcal{O}_K\) as \(\mathcal{O}_K\)-module.

    Thus, \(\operatorname{im} (\mathscr{G}_K \to T_p F_e) \cong \mathcal{O}_K^\times = \operatorname{Aut}_{\mathcal{O}_K}(\mathcal{O}_K)\).
    
    Thus, \(\mathscr{G}_K \curvearrowright V_p F_e = T_p F_e \otimes_{\mathbb{Z}_p} \mathbb{Q}_p\) is a vector space of dimension \([K:\mathbb{Q}_p]\). 

    LCFT tells us this factors through the abelianization: \(\mathscr{G}_K \to \mathscr{G}_K^{ab} \curvearrowright V_p F_e\).

    Question: Why \(p\)-adic representatons? Why not continuous representations \(\mathscr{G}_K \to \operatorname{GL}_n(\mathbb{C})\)? Why not \(\mathscr{G}_K \to \operatorname{GL}(\mathbb{Q}_l), l \neq p\)? Why not \(\mathscr{G}_K \to \operatorname{GL}_n (\mathbb{A}_\mathbb{Q}) = \prod_{l \leq \infty}^{\prime} GL_n(\mathbb{Q}_l)\) where \(\mathbb{Q}_\infty = \mathbb{R}\)?
    
    Answer: We can study them, but the \(p\)-adic representations are especially interesting for the following reason: Continuous representations \(\mathscr{G}_K \to \operatorname{GL}_n(\mathbb{C})\) have finite image! The topologies are incompatible.

    For \(\mathscr{G}_K \to \operatorname{GL}_n(\mathbb{Q}_l),l\neq p\) have finite image when restricted to the wild inertial subgroup \(\mathscr{P}_K = \mathscr{G}_K^{> 0} = \bigcup_{s > 0} \mathscr{G}_K^s\) [upper numbering of ramification groups].

    \(\mathscr{G}_K \to \operatorname{GL}_n(\mathbb{A}_\mathbb{Q})\) are put together from representations into \(\operatorname{GL}_n(\mathbb{Q}_l), l \leq \infty\). 

    About \(\mathscr{G}_K\): There are two fundamental exact sequence:

    \[
        1 \to \mathscr{I}_K \to \mathscr{G}_K \to \operatorname{Gal}(\overline{k} / k) \to 1
    \]

    \(\mathscr{I}_K\) is the \underline{inertia subgroup}. It is closed, and we can write \(\mathscr{I}_K = \mathscr{G}_K^0\).
    
    Let \(\pi \in K\) be a uniformizer. Then \(\forall n\in \mathbb{Z}_{> 0} \setminus p \mathbb{Z}, \forall \sigma \in \mathscr{I}_K,\)

    \[
        \frac{\sigma(\sqrt[n]{\pi})}{\sqrt[n]{\pi}} \in \mu_n(\overline{K})
    \]

    is independent of the choince of \(\sqrt[n]{\pi}\) and also independent of the choice of \(\pi\). Hence one obtains a homomorphism \(t: \mathscr{I}_K \to \varprojlim_{n > 0, p\nmid n} \mu_n(\overline{K}) \eqqcolon \widehat{\mathbb{Z}}^{(p)}(1)\).

    superscript \((p)\) since we're not taking the \(p\) divisible powers. `Twist' by \((1)\) since we're taking the roots of unity.
    
    It is non-canonically isomorphic to \(\varprojlim_{p\nmid n} \mathbb{Z} / n\mathbb{Z} = \prod_{l\neq p} \mathbb{Z} _l\).

    Then, \(\mathscr{P}_K = \ker (t)\). We have the following exact sequence:

    \[
        1 \to \mathscr{P}_K \to \mathscr{I}_K \to \widehat{\mathbb{Z}}^{(p)}(1) \to 1
    \]

    \begin{theorem}
        \(\mathscr{P}_K\) is a pro-\(p\) group, is maximal with this property, and is normal  in \(\mathscr{G}_K\). One has \(\mathscr{P}_K = G(\overline{K} / K_{nr}(\sqrt[n]{\pi} \mid n > 0, p \nmid n))\).
    \end{theorem}

    \(K_{nr}(\sqrt[n]{\pi} \mid n > 0, p \nmid n )\) is the maximal tamely ramified extension \(K^{tame}\). We have the following exact sequence:

    \[
        1 \to \widehat{\mathbb{Z}}^{(p)}(1) \to G(K^{tame} / K) \to G(K_{nr} / K) \cong G(\overline{k} / k) \to 1
    \]

    We can be more precise: it is in fact a semidirect product.

    Motto: \(p\)-adic vector spaces are the natural environment for representations of \(\mathscr{G}_K\) (which is `close to being a pro-\(p\) group', meaning it has a very large pro-\(p\) subgroup).

    Plan: 2.1: Finite Group Schemes.

    2.2: \(p\)-divisible groups.

    2.3: \(C = \widehat{\overline{K}}\). In case of \(\mathbb{Q}_p\) we denote this by \(\mathbb{C}_p\).
    
    2.4: Theorems on Galois Representations attached to \(p\)-divisible groups.
   
    \subsection{Finite Group Schemes}

    \subsubsection{} Let \(R\) be a commutative ring. An \underline{affine group scheme over \(R\)} is an affine scheme \(G = \operatorname{Spec}(A) \xrightarrow{\uparrow s} S \coloneqq \operatorname{Spec}(R)\) equipped with:

    \begin{itemize}
        \item a multiplication \(m: G \underset{S}{\times} G \to G, S = \operatorname{Spec}(A \otimes_R A)\).
        \item A unit section \(e: S \to G\)
        \item An inversion \(i: G \to G\)    
    \end{itemize} 

    These are required to be morphisms over \(S\).

    \section*{Thursday, 2/20/2025}
    
    We redo:

    Let \(R\) be a commutative ring. An \underline{affine group scheme over} \(R\) is an affine scheme \(G = \operatorname{Spec} A \xrightarrow{P_G} S = \operatorname{Spec} R\), equipped with morphisms over \(S\):

    \(m = m_G: G \underset{S}{\times} G = \operatorname{Spec} (A \underset{R}{\otimes} A) \to G\)
    
    \(i = i_G: G \to G\) [inverse]

    \(e = e_G\) unit section so that:

    \begin{center}
        \begin{tikzcd}
            S \ar[rr] \ar[rd,"id"] & & G \ar[ld, "P_G"] \\ & S
        \end{tikzcd}
    \end{center}

    such that the following diagrams are commutative:

    \begin{enumerate}[label=\arabic*)]
        \item Associativity:
        
        \begin{center}
            \begin{tikzcd}
                (G \underset{S}{\times} G) \underset{S}{\times} G \underset{can}{\cong} G \underset{S}{\times} (G\underset{S}{\times} G) \ar[r,"m\times id"] \ar[d,"id\times m"] & G\times G \ar[d,"m"] \\ G \underset{S}{\times} G \ar[r,"m"] & G
            \end{tikzcd}
        \end{center}
        
        \item 
        \begin{center}
            \begin{tikzcd}
                G = S \underset{S}{\times} G = G \underset{S}{\times} \ar[r,"e\times id"] \ar[rd,"id"] \ar[d,"id\times e"] & G \times G \ar[d,"m"] \\ G \times G \ar[r,"m"] & G
            \end{tikzcd}
        \end{center}

        \item 

        \begin{center}
            \begin{tikzcd}
                G \ar[rr,"i\times id"] \ar[dd,"id\times i"] \ar[rd,"P_G"] & & G \times G \ar[dd,"m"] \\ & S \ar[rd,"e"] \\ G \times G \ar[rr,"m"] & & G
            \end{tikzcd}
        \end{center}

    \end{enumerate} 

    1-3 can be reformulated in terms of \(A\).

    \begin{itemize}
        \item \(P_S\) makes \(A\) into an \(R\)-algebra.
        \item \(m\) corresponds to a morphism of \(R\)-algebras \(\mu: A \to A \otimes_R A\), \underline{co-multiplication}
        \item \(i\) corresponds to the morphism \(\iota : A\to A\) inverson.
        \item \(e\) corresponds to \(\varepsilon : A \to R\) called the \underline{co-unit} 
    \end{itemize} 

    \((A,\mu , \iota , \varepsilon)\) has the property that the diagrams:
    
    \begin{enumerate}[label=\arabic*')]
        \item  
        
        \begin{center}
            \begin{tikzcd}
                (A\otimes_R A) \otimes_R A = A \otimes_R (A \otimes_R A) & A\otimes_R A \ar[l,"\mu\otimes id"] \\ A \otimes_R A \ar[u,"id\otimes\mu"] & A \ar[l,"\mu"] \ar[u,"\mu"]
            \end{tikzcd}
        \end{center}

        \item

        \begin{center}
            \begin{tikzcd}
                R \otimes_R A = A \otimes_R R & A\otimes_R A \ar[l,"\varepsilon\otimes id"] \\ A \otimes_R A \ar[u,"id\otimes\varepsilon"] & A \ar[l,"\mu"] \ar[lu,"id"] \ar[u,"\mu"]
            \end{tikzcd}
        \end{center}
        
        \item 

        \begin{center}
            \begin{tikzcd}
                A & A\otimes_R A \ar[l,"\delta"] & A \otimes_R A \ar[l,"\iota\otimes id"] \\ A \otimes A \ar[u,"\delta"] \\ A \otimes A \ar[u,"id\otimes\iota"] & & A\ar[ll,"\mu"] \ar[uu,"\mu"]
            \end{tikzcd}
        \end{center}

        Here \(\delta: A \otimes_R A \to A\) is multiplication, \(G \xrightarrow[\Delta]{} G \underset{S}{\times} S\) 

    \end{enumerate} 

    This means that \((A,\mu, \iota, \varepsilon)\) is a \underline{Commutative Hopf Algebra}.
    
    The group scheme \(G = \operatorname{Spec}(A)\) is called \underline{commutative} if:

    \begin{center}
        \begin{tikzcd}
            \underset{(g,h)}{G \otimes G} \ar[r,"m"] \ar[d] & G \ar[d,"id"] \\ \overset{(h,g)}{G \otimes G} \ar[r,"m"] & G
        \end{tikzcd}
    \end{center}

    commutes. Equivalently,

    \begin{center}
        \begin{tikzcd}
            \underset{b\otimes a}{A \otimes_R A} & A\ar[l,"\mu"] \\ \overset{a \otimes b}{A \otimes_R A} \ar[u] & A\ar[l,"\mu"] \ar[u,"id"]
        \end{tikzcd}
    \end{center}

    commutes. In this case \(A\) is called co-commutative.

    Examples:

    \begin{enumerate}[label=\arabic*)]
        \item The additive group (scheme) \(\mathbb{G}_{a,R}\) over \(R: \mathbb{G}_{a,R} = \operatorname{Spec}(A), A = R[x], \mu: R[x] \to R[x] \otimes_R R[x]\) by \(x \mapsto 1 \otimes x + x \otimes 1\).
        
        \(\varepsilon : R[x] \to R\) by \(\varepsilon(x)=0, \iota : R[x] \to R[x]\) by \(x \mapsto -x\).

        \item The multiplicative group (scheme) \(\mathbb{G}_{m,R}\) over \(R\): \(\mathbb{G}_{m,R}=\operatorname{Spec}(A)\), \(A = R[x,x ^{-1} ] = R[x,t] / (tx-1)\).
        
        \(\mu: A \to A \otimes_R A, \mu(x) = x \otimes x, \mu(x ^{-1}) = x ^{-1} \otimes x ^{-1}\).

        \(\varepsilon: A \to R, \varepsilon(x) = \varepsilon(x ^{-1}) = 1, \iota (x) = x ^{-1} , \iota(x ^{-1}) = x\).

        \item The group scheme of \(n\)'th roots of unity \(\underline{\mu}_{n,R}=\operatorname{Spec}(A), A = R[x] / (x^n - 1)\). Then \(\mu(\overline{x}) = \overline{x} \otimes \overline{x}, \varepsilon(\overline{x}) = 1, \iota(\overline{x}) = \overline{x}^{-1} = \overline{x}^{n-1}\).
        
        The quotient map \(R[x, x ^{-1}] \to R[x] / (x^n - 1) = R[x, x ^{-1}] / (x^n - 1)\) given by \(x \mapsto \overline{x}\) is a \underline{morphism} of Hopf algebras over \(R\).
        
        This induces a closed immertion \(\underline{\mu}_{n,R} \to G_{m,R}\).

        \item Let \(\Gamma\) be any finite group of order \(m\). Set \(A = R^\Gamma\) (set of maps \(f: \Gamma \to R\)) equipped with pointwise addition and multiplication. Then,
        
        \(A = R \times \cdots \times R\) product of rings,

        Comultiplication \(\mu: A \to A \otimes_R A \cong R^{\Gamma \times \Gamma}, f \otimes g \mapsto [(\gamma,\delta) \mapsto f(\gamma)g(\delta)]\) 

        \(\mu(f)(\gamma,\delta) = f(\gamma \delta)\).
        
        \(\varepsilon: A \to R, \varepsilon(f) = f(1_\Gamma)\).
        
        \(\iota: A \to A, \iota(f)(\gamma) = f(\gamma ^{-1})\).
        
        Exercise: This makes \((A,\mu, \iota, \varepsilon)\) a commutative Hopf algebra, which is co-commutative if and only of \(\Gamma\) is commutatie.

        We set \(\underline{\Gamma}_R = \operatorname{Spec}(R^\Gamma)\) and call it the constant group scheme associated to \(\Gamma\).

        One can think of \(\underline{\Gamma}_R\) as \(m\) copies of \(S\) labeled by the elements of \(\Gamma\).

        \item \(\operatorname{GL}_{n,R}=\operatorname{Spec}(A), A - R[x_{ij} \mid 1 \leq i, j \leq n][t] / (t \det - 1)\). \(\operatorname{SL}_{n,R}\) is closed inside \(\operatorname{GL}_{n,R}\). \(\operatorname{SL}_{n,R} = \operatorname{Spec}(A / I)\), \(A\) as above, \(\det = \det ((x_{ij})), I = (\overline{t} - 1) = (\det - 1)\).

    \end{enumerate} 

    \underline{Caution}: If \(G\) is a group scheme over \(S\) then \(\vert G \vert = \) underlying set (topological space) is in general \underline{not a group}.
        
    For example, \(G = \mathbb{G}_{a,\mathbb{C}} = \operatorname{Spec}(\mathbb{C}[x])\) which is bijective with \(\mathbb{C} \cup \{ \eta \} \) where \(\eta\) is a generic point associated to \((0)\), the zero ideal.

    \underline{Note}: \(\vert G \underset{\operatorname{Spec}(\mathbb{C})}{\times} G \vert = \vert \operatorname{Spec} (\mathbb{C}[x,y]) \vert \neq \vert \operatorname{Spec} (\mathbb{C} [x]) \vert \times \vert \operatorname{Spec}(\mathbb{C}[y]) \vert\) 

    \underline{Points} If \(T \xrightarrow{f} S\) is a scheme over \(S = \operatorname{Spec}(R)\) eg \(T = \operatorname{Spec}(R^{\prime})\) and \(G \to S\) is a group scheme, then \(G(T) \coloneqq \operatorname{Mor}_{\operatorname{Scheme} / S}(T,G)\). In the affine scheme it is the same as \(\operatorname{Hom}_{R \text{-alg}}(A,R^{\prime})\) if \(G = \operatorname{Spec}(A), T = \operatorname{Spec}(R^{\prime})\).
    
    \(G(T)\) is naturally a group, called the group of \(T\)-valued points of \(G\).

    Given \(x,y:\) \begin{tikzcd}
            T \ar[rr] \ar[rd] & & G \ar[ld] \\ & S 
        \end{tikzcd}

    There is a commutative diagram:

    \begin{center}
        \begin{tikzcd}
            & G \times_S G \ar[rd,"p_2"] \ar[dd,"p_1"] \\
            T \ar[ur,"\exists!xy"] \ar[rr,"x"] \ar[rd,"y"] & & G \ar[d] \\ & G \ar[r] & S
        \end{tikzcd}
    \end{center}

    \(x^\# - y^\# (b) \mapsfrom a \otimes b\)

    \begin{center}
        \begin{tikzcd}
            & A \otimes_R A \ar[dl,"(x\,y)^\#"] \\
            R^\prime & & A\ar[ul] \ar[ll,"x^\#"] \\ & A \ar[ul,"y^\#"] \ar[uu] & R \ar[l] \ar[u]
        \end{tikzcd}
    \end{center}

    Then define \(x \cdot y \coloneqq m \circ (x,y): T \to G\).
    
    \(R^{\prime} \xleftarrow{(x,y)^\#} A^{\prime} \otimes_R A \xleftarrow{\mu} A\). 

    This gives \(G(T)\) the structure of a group with unique element \(e_G \circ f\) where \(T \xrightarrow{f} S\) is the structure map.

    For example,

    \begin{enumerate}[label=\arabic*)]
        \item \(\mathbb{G}_{a,R}(R^{\prime}) = (R^{\prime},+)\).
        
        \(\operatorname{Hom}_{R\text{-alg}}(R[x],R^{\prime}) \xleftrightarrow{bij} R^{\prime} \) with \(\varphi \mapsto \varphi(x)\).
        
        \item \(G_{m,R}(R^{\prime}) = ((R^{\prime})^\times, \cdot), \operatorname{Hom}_{R\text{-alg}}(R[x,x ^{-1}], R^{\prime})\) with \(\varphi \mapsto \varphi (x) \in (R^{\prime})^\times\).
        
        \(\underline{\mu}_{n,R}(R^{\prime}) = \{ a\in R^{\prime} \mid a^n = 1 \}  \) is not necessarily finite if \(R^{\prime}\) is not an integral domain. Sometimes we also have very few roots of unity.
        
        For example, if \(n = p^m, p\) prime and \(R = \mathbb{F}_p\) and \(R^{\prime}\) an integral domain (and also \(\mathbb{F}_p\) algebra), then,

        \(\underline{\mu}_{p^m, \mathbb{F}_p}(R^{\prime})\). This is because \((x^{p^m}-1) = (x-1)^{p^m}\).
    
    \end{enumerate} 

    \begin{definition}
        Let \(S = \operatorname{Spec}(R)\). Let \(G = \operatorname{Spec}(A), H = \operatorname{Spec}(B)\) two (affine) group schemes over \(S\). A homomorphism \(f: H \to G\) over \(S\) is a morphism of schemes over \(S\) such that the following diagram commutes:

        \begin{center}
            \begin{tikzcd}
                H \times H \ar[d,"f\times f"] \ar[r,"m_H"] & H \ar[d,"f"] \\ G \times G \ar[r,"m_G"] & G
            \end{tikzcd}
        \end{center}

        If \(G\) and \(H\) are affine (as indicated) then \(f\) corresponds to \(f^\#: A \to B\) a morphism of \(R\) algebras and \(f\) is a homomorphism if and only if \(f^\#\) is a homomorphism of Hopf Algebras. 
    \end{definition}

    \underline{Example} Suppose \(p\) prime, \(R = \mathbb{F}_p\) algebra, \(\alpha_{p,R} = \operatorname{Spec}(A), A = R[x] / (x^p)\) with co-multiplication \(\mu(\overline{x}) = 1 \otimes \overline{x} + \overline{x} \otimes 1\) and inversion \(\iota(\overline{x}) = - \overline{x}\) and \(\varepsilon(\overline{x}) = 0\).
    
    Then \(R[x] \to A\) gives a morphism:

    \[
        \alpha_{p,R} \to \mathbb{G}_{a,R}
    \]

    Question: Is \(\alpha_{p,R}\) isomorphic to \(\mu_{p,R}\)?

    Example 2: Suppose \(R\) is a \(k\)-algebra and \(k\) is a field containing a primitive \(n\)'th root of unity. Then \(\operatorname{char} k \nmid n\). In this case, \(\underline{\mu}_{n,R} \cong \underline{\mathbb{Z} / n\mathbb{Z}}_R\). 

    \section*{Tuesday, 2/25/2025}
    
    Note that, in the previous question, even though as schemes \(\underline{\alpha}_{p,R} \cong \underline{\mu}_{p,R}\), they are not isomorphic as group schemes over \(R\).

    \begin{definition}
        A group scheme \(G \xrightarrow{p_G} S = \operatorname{Spec}(R)\) is called \underline{finite}, if \(p_G\) is a finite morphism (\(G = \operatorname{Spec}(A)\) is affine and \(p_G^\#: R \to A\) makes \(A\) into a finitely generated \(R\)-module).

        A finite group scheme \(G / R\) [here \(G = \operatorname{Spec}(A)\)] is called flat (resp. locally free) if \(A\) is flat (resp. projective) \(R\)-module.

        We denote by \(\operatorname{Gps}_R\) the category of (affine) group schemes \(/R\) and \(\operatorname{Gps}^{\text{fin/proj}}\) category of finite locally free free group schemes \(/ R\) and \(\operatorname{Gps}_R^{\operatorname{fin}}\) category of finite group schemes \(/ R\).
    
    \end{definition}

    Example from LT Theory: Let \(K / \mathbb{Q}_p\) be finite, \(F_e =\) LT \(\mathcal{O}_K\) module attached to the LT series \(e\in \mathscr{E}_\pi, F_e[\pi^m]\coloneqq \operatorname{Spec}(\mathcal{O}_K[[x]] / ([\pi^m]_{F_e}(x)))\).

    Fact (HW7): \(A_m \coloneqq \mathcal{O}_K[[x]] / ([\pi^m]_{F_e}(x))\) is a free \(\mathcal{O}_K\)-module of rank \(q^m\) where \(q = \vert k_K \vert\). 

    Hence, the co-multiplication \(A_m \to A_m \otimes_{\mathcal{O}_K} A_m\) is given by the formal module structure: \(x \mapsto F_e(x_1, x_2) \in \mathcal{O}_K[[x_1,x_2]] / ([\pi^m](x_1),[\pi^m](x_2)) \cong \mathcal{O}_K[x_1] / ([\pi^m](x_1)) \otimes_{\mathcal{O}_K} \mathcal{O}_K[[x_2]] / ([\pi^m](x_2))\).

    Inversion map is given by inversion on \(F_e\).

    Augmentation (\(\leftrightarrow\) unit section) \(A_m \to \mathcal{O}_K, x \mapsto 0\).
    
    \begin{remark}
        If \(M\) is a finitely generated projective \(R\)-module then \(\forall P \in \operatorname{Spec}(R)\) the localization \(M_P\) is a finitely generated free \(R_P\)-module. This is a consequence of Nakayama's Lemma.
        
        The function \(\operatorname{Spec}(R) \to \mathbb{Z}_{\geq 0}, \operatorname{rk}(M)(P)\coloneqq \operatorname{rank}_{R_P}(M_P)\) is \underline{locally constant}.
        
        If \(G\) is in \(\operatorname{Gps}_R^{\operatorname{fin,proj}}\) then we let \(\operatorname{rk}(G) \coloneqq \operatorname{rk}(A)\) where \(G=\operatorname{Spec}(A)\). We call it the \underline{rank} or \underline{order} of \(G\).
        
    \end{remark}

    \subsubsection{Carter Duality}

    From now on all group schemes are assumed to be commutative. Given an affine group scheme \(G = \operatorname{Spec}(A)\) over \(R\) we set \(\mathcal{O}(G) = A\). So, \(\mathcal{O}(G)\) is the corresponding affine algebra of \(G\).
    
    Let \(\mu:A \to A\otimes_R A\) be the co-multiplication, and \(\delta_A : A \otimes_R A \to A\) the multiplication. Then, \(\delta_A(a \otimes b) = ab\).

    Let \(A^\vee = \operatorname{Hom}_{R\text{-mod}}(A,R)\). Now assume that \(A\) is f.g. projective (\(\iff G\) is finite, locally free).
    
    Then we have the following:
    
    \((A \otimes_R A)^\vee = \operatorname{Hom}_{R\text{-mod}}(A \otimes_R A, R) = \operatorname{Hom}_{R\text{-mod}}(A, \operatorname{Hom}_{R\text{-mod}}(A,R))\) 

    \(= \operatorname{Hom}_{R\text{-mod}}(A,R) \otimes_R \operatorname{Hom}_{R\text{-mod}}(A,R) = A^\vee \otimes_R A^\vee\).

    Consider the maps: \(\delta_{A^\vee}\coloneqq \delta_A^\vee: A^\vee \to (A \otimes_R A)^\vee \underset{can}{\cong} A^\vee \otimes_R A^\vee\)
    
    \(\mu_{A^\vee}\) 

    \textbf{Proposition/Definition 2.1.2.1.} Let \(G \in \operatorname{Gps}_R^{\text{fin, proj}}, A = \mathcal{O}(G)\). Then \(A^\vee\) equipped with the multiplication is given by \(\delta_{A^\vee} = \mu_A^\vee\) is a commutative ring with unit \(\varepsilon_A: A \to R (\varepsilon_A \in A^\vee)\).
    
    If we define:
    
    \(\varepsilon_{A^\vee}: A^\vee \to R, \varepsilon_{A^\vee}(f) = f(0)\)
    
    \(\iota_{A^\vee} \coloneqq \iota_A^\vee: A^\vee\to A^\vee, \iota_{A^\vee}(f) = f \circ \iota_A\)
    
    Then \(A^\vee, \mu_{A^\vee},\iota_{A^\vee},\varepsilon_{A^\vee}\) is a co-commutative Hopf algbra of the same rank as fcs on \(\operatorname{Spec}(R)\).

    Furthermore, the map \(A \to (A^\vee)^{\vee}\) given by \(a \mapsto (f \mapsto f(a))\) is an isomorphism of Hopf Algebras. We set \(G^\vee: \operatorname{Spec}(A^\vee)\) and call it the \underline{Carter Dual} of \(G\). Then, \((G^\vee)^\vee\underset{can}{\cong} G\).  
    
    Example: let \(G = \underline{\mu}_{n,R}, A = R[x] / (x^n - 1), \mu_A(\overline{x}) = \overline{x} \otimes \overline{x}\).

    \(A^\vee = \bigoplus_{i=0}^{n-1} Rf_i, f_i \left( \sum_{j=0}^{n-1} a_j \overline{x}^j \right) = a_i \in R\).

    Then, \((f_i \cdot f_j)(\overline{x}^k)\) can be evaluated as follows:
    
    Recall \(A^\vee \otimes_R A^\vee \to A^\vee\) is given by \(f \otimes g \mapsto [a \mapsto (f \otimes g)(\mu_A(a))]\). Then,

    \[
        (f_i \cdot f_j)(\overline{x^k}) = (f_i \otimes f_j)(\mu_A(\overline{x}^k)) = (f_i \otimes f_j)(\overline{x}^k \otimes \overline{x}^k) = f_i(\overline{x}^k)f_j(\overline{x}^k)
    \]

    Therefore, \((f_i \cdot f_j)(\overline{x}^k) = \begin{dcases}
        1, &\text{ if } i=j=k ;\\
        0, &\text{ otherwise} .
    \end{dcases}\) 

    Therefore, \(f_i f_j = \delta_{i,j}f_i\).

    Thus, \(f_0, \cdots , f_{n-1}\) are \underline{pairwise orthogonal idempotents}. Furthermore, \(f_0 + \cdots + f_{n-1} = 1_{A^\vee}\).

    Therefore, as an \(R\)-algebra,

    \[
        A^\vee = \prod_{i=0}^{n-1} R f_i \cong R \times \cdots \times R \overset{!}{=} R^{\mathbb{Z} / n\mathbb{Z}}
    \]

    Then, the co-multiplication on \(A^\vee \cong R^{\mathbb{Z} /(n)}\) is given by:

    \[
        R^{\mathbb{Z} / (n)} \to R^{\mathbb{Z} /(n)} \times R^{\mathbb{Z} /(n)} = R^{\mathbb{Z} /(n) \times \mathbb{Z} /(n)} 
    \] 

    \[
        f \mapsto \left[ (i \mod n, j \mod n) \mapsto f(i + j \mod n) \right] 
    \]

    \(f\in R^{\mathbb{Z} / n\mathbb{Z}} \leftrightarrow \left[ \sum_{i=0}^{n-1} a_i \overline{x}^i \mapsto \sum_{i=0}^{n-1} a_i f(i) \right] \) 

    Therefore, \((\underline{\mu}_{n,R})^\vee \cong \underline{\mathbb{Z} / n\mathbb{Z}}_R \)
    
    Example: Assume \(p\) is prime and \(R\) an \(\mathbb{F}_p\) algebra. Then, \((\underline{\alpha}_{p,R})^\vee \cong \underline{\alpha}_{p,R}\).
    
    Note that this proves that \(\underline{\alpha}_{p,R}\not\cong \underline{\mu}_{p,R}\) for any ring \(R \neq 0\).

    \begin{proof}
        [Sketch of proof of 2.1.2.1]

        Check Associativity of multiplication \(\delta_{A^\vee}\). It comes from the associativity of the comultiplication.
        
        Let \(a \in A\). Write \(\mu_A(a) = \sum_{i} a_i \otimes b_i\). 

        \(\mu_A(b_i) = \sum_{j} b_{ij} \otimes d_{ij}, \mu_A(a_i) = \sum_{k} a_{ik} \otimes c_{ik} \implies \sum_{i,k} a_{ik} \otimes c_{ik} \otimes b_i = \sum_{i,j} a_i \otimes b_{ij} \otimes d_{ij}\).
        
        For all \(f,g,h\in A^\vee: ((f \cdot g) \cdot h)(a) = ((f\cdot g) \otimes h)(\mu_A(a)) = \sum_i (f \cdot g)(a_i) h(b_i) = \sum f(a_{ik})g(c_{ik})h(b_i) = (f \otimes g \otimes h)\left( \sum a_{ik} \otimes c_{ik} \otimes b_i \right) = (f \otimes g \otimes h) \left( \sum a_i \otimes b_{ij} \otimes d_{ij} \right) = \sum f(a_i)(gh)(b_i) = (f \cdot (g \cdot h))(a)\).
        
        Similarly one proves the associativity of co-multiplicatin \(\mu_{A^\vee}\) and verify the other axioms.
        
    \end{proof}

    \subsection*{Functorial Description of the Carter Dual}
    
    Let \(G = \operatorname{Spec}(A) \in \operatorname{Gps}_R^{\text{fin,proj}}\) for \(R^{\prime} \in R\)-alg (= cattegory of comm. \(R\)-algebras) we define:
    
    \[
        \underline{\operatorname{Hom}}(G,\mathbb{G}_m)(R^{\prime}) \coloneqq \operatorname{Hom}_{\operatorname{Gps}_{R^{\prime}}}(G_{R^{\prime}},\mathbb{G}_{m,R^{\prime}})
    \]

    \[
        = \operatorname{Hom}_{R^{\prime}\text{-Hopfalg}}(\mathcal{O}(\mathbb{G}_{m,R^{\prime}}),\mathcal{O}(G_{R^{\prime}})) = \operatorname{Hom}_{R^{\prime}\text{-Hopfalg}}\left( R^{\prime} [x,x ^{-1}], A \otimes_R R^{\prime} \right)
    \]

    This is a functor: \(R\)-alg \(\to\) (Groups) into the category of abstract groups.
    
    If we have \(\alpha ,\beta: G_{R^{\prime}}\to \mathbb{G}_{m,R^{\prime}}\) we can multiply them, \(\alpha \cdot \beta : G_{R^{\prime}} \to \mathbb{G}_{m,R}\) is a homomorphism. 

    \textbf{Proposition 2.1.2.2} If \(G\in \operatorname{Gps}_R^{\text{fin,proj}}\), then \(G^\vee \underset{can}{\cong} \underline{Hom}(G,\mathbb{G}_{m})\). 

    \section*{Thursday, 2/27/2025}
    
    \underline{Notation}: Given a ring \(R\) we denote by \(\operatorname{Ab}_R\) the category of affine commutative group schemes over \(R\), and \(\operatorname{Ab}_R^{\text{fin}} (\operatorname{Ab}_R^{\text{fin, proj}})\) the categoory of objects which are finite (resp. finite and locally free (\(\iff \mathcal{O}(G)\) is projective)) over \(R\).
    
    For \(R^{\prime} \in R\)-alg we defined \(\underline{Hom}(G,\mathbb{G}_m)(R^{\prime}) = \operatorname{Hom}_{\operatorname{Ab}_{R^{\prime}}}(G_{R^{\prime}}, \mathbb{G}_{m,R^{\prime}})\).
    
    \textbf{Proposition 2.1.2.2.} For \(G\in \operatorname{Ab}_R^{\text{fin,proj}}\) we have \(G^\vee\) (=Carter dual) \(\cong \underline{Hom}(G,\mathbb{G}_m)\).
    
    \begin{proof}
        [Sketch] \(R^{\prime} \in R\)-alg. Then,
        
        \(G(R^{\prime}) = \operatorname{Hom}_{R\text{-alg}}(\underset{\mathcal{O}(G)}{A},R^{\prime}) \hookrightarrow \operatorname{Hom}_{R\text{-mod}}(\underset{proj}{A},R^{\prime}) \cong \operatorname{Hom}_{R\text{-mod}}(A,R) \otimes_R R^{\prime} = A^\vee \otimes_R R^{\prime}\).

        Where \(\underbrace{A^\vee}_{A^\vee_{R^{\prime}}} = \operatorname{Hom}_{R\text{-mod}}(A,R)\). Consider \(\varphi : A \to R^{\prime} \in G(R^{\prime})\), an \(R\)-algebra homomorphism. We can then make \(\varphi\) into \(R^{\prime}\)-linear in the obvious way: \(A \otimes_R R^{\prime} \xrightarrow{\varphi}R^{\prime}\) with \(a \otimes r \mapsto \varphi(a) \otimes r\). 

        \(\mu_{A^\vee_{R^{\prime}}}\) 

        \(\mu_{A^\vee_{R^{\prime}}}: A^\vee_{R^{\prime}} \to A^\vee_{R^{\prime}} \to A^\vee_{R^{\prime}} \otimes_{R^{\prime}} A^\vee_{R^{\prime}} \cong (A_{R^{\prime}} \otimes_{R^{\prime}} A_{R^{\prime}})^\vee\) 

        Therefore, \((\mu_{A^\vee_{R^{\prime}}}(\varphi))(a \otimes b) = \varphi(a \otimes b) \underset{=}{\varphi \text{ ring hom}}  \varphi (a) \varphi(b) = (\varphi \otimes \varphi)(a \otimes b)\).

        Therefore, \(\mu_{A^\vee_{R^{\prime}}}(\varphi) = \varphi \otimes \varphi\).

        \begin{remark}
            An element \(\varphi\) of a Hopf algebra \(H\) over \(R^{\prime}\) is called \underline{group-like} if the comultiplication \(\mu_H(\varphi) = \varphi \otimes \varphi\).
        \end{remark}

        So, \(\varphi\) is group-like.

        On the other hand, any element \(\Phi\) of \(\underline{Hom}(G^\vee, \mathbb{G}_m)(R^{\prime}) = \operatorname{Hom}(G_{R^{\prime}}^\vee, \mathbb{G}_{m,R^{\prime}}) = \operatorname{Hom}_{R^{\prime}\text{-alg}}(R^{\prime}[x,x^{\prime}], A^\vee \otimes_R R^{\prime})\) is completely determined by \(\Phi(x) \in A^\vee_{R^{\prime}}\). Let this be \(\Psi\).
        
        Then we have \(\Psi(ab) = \mu_{A^\vee_{R^{\prime}}}(\Psi)(a \otimes b) = (\Phi \otimes \Phi)(\mu_{\mathbb{G}_{m,R^{\prime}}}(x))(a \otimes b) = (\Phi \otimes \Phi)(x \otimes x)(a \otimes b) = \Psi(x) \otimes \Psi(x)(a \otimes b) = \Psi(a) \Psi(b)\).

        Moreover \(\Psi \cdot \Phi(x ^{-1}) = \Phi(x) \Phi(x ^{-1}) = \Phi(1) = 1\).

        Therefore, \(\Psi \in (A^\vee_{R^{\prime}})^\times\).

        Check: the element \(\varphi\) from before is a unit in \(A^\vee_{R^{\prime}}\).

        Therefore, \(\underline{Hom}(G^\vee, \mathbb{G}_m)(R^{\prime}) = \operatorname{Hom}_{(\text{Hopf algs} / R^{\prime})}(R^{\prime}[x,x ^{-1}], A^\vee_{R^{\prime}})\)
        
        \(= \left\{ \varphi \in (A^\vee_{R^{\prime}})^\times \mid \varphi(ab) = \varphi (a) \varphi(b) \right\}\) 

        \(= \operatorname{Hom}_{R^{\prime}\text{-alg}}(A,R^{\prime}) = G(R^{\prime})\).
        
        \(\implies \underline{\operatorname{Hom}}(G^\vee,\mathbb{G}_m) \cong G \) 

        Replace \(G\) by \(G^\vee\) and use the fact that \(G^{\vee\vee} \underset{can}{\cong} G\).
        
        Therefore, \(G^\vee \cong \underline{Hom}(G,\mathbb{G}_m)\).
        
    \end{proof}

    Example: \((\underline{\alpha}_{p,R})^\vee \cong \underline{\alpha}_{p,R}\) [from HW7]
        
    \((\mu_{n,R})^\vee \cong \underline{\mathbb{Z} / n\mathbb{Z}}_R\).

    \subsubsection{Short Exact Sequences}

    Let \(G,G^{\prime} ,G^{\prime\prime} \in \operatorname{Ab}_R^{\text{fin,proj}}\).
    
    \begin{definition}
        A sequence \(0 \to G^{\prime} \xrightarrow{f} G \xrightarrow{g} G^{\prime\prime} \to 0\) is called \underline{exact} if:

        \begin{enumerate}[label=\roman*)]
            \item \(f\) is a \underline{closed} \underline{immersion} (\(\iff f^\# : \mathcal{O}(G) \to \mathcal{O}(G^{\prime})\) is surjective) which identifies \((G^{\prime}, f)\) with the categorical kernel of \(g\) in \(\operatorname{Ab}_R\).
            
            (If \(H \in \operatorname{Ab}_R\) and \(h: H_{\searrow} \xrightarrow[S = \operatorname{Spec}(R)]{} \,_{\swarrow} G\) has the property that \(g \circ h = e_{G^{\prime\prime}} \circ p_H\) [here \(p_H\) is the map \(H \to S\)] then there is a unique \(h^{\prime}: H \to G^{\prime}\) such that \(h = f \circ h^{\prime}\)).

            \item \(g\) is faithfully flat (\(\iff g^\#: \mathcal{O}(G^{\prime\prime}) \to \mathcal{O}(G)\) is faithfully flat).
        \end{enumerate} 
    \end{definition}

    \textbf{Propositon 2.1.3.1.} Let \(0 \to G^{\prime} \to G \to G \to G^{\prime\prime} \to 0\) be an exact sequence in \(\operatorname{Ab}_R^{\text{fin,proj}}\). Then,

    \begin{enumerate}[label=\roman*)]
        \item \(\operatorname{rk}(G) = \operatorname{rk}(G^{\prime}) \operatorname{rk}(G^{\prime\prime})\) as functions on \(\operatorname{Spec}(R)\).
        \item The dual sequence \(0 \to (G^{\prime\prime})^\vee \to G^\vee \to (G^{\prime})^\vee \to 0\) is exact.  
    \end{enumerate} 

    \underline{Reference}: Demazure, Gabriel Groupes Algebriques, SGA 3

    \begin{remark}
        \begin{enumerate}[label=\arabic*)]
            \item If \(0 \to H \to G \to Q \to 0\) is exact sequence of affine commutative group schemes \(/ R\), then the sequence of \(R^{\prime}\) valued points:
            
            \[
                0 \to H(R^{\prime}) \to G(R^{\prime}) Q(R^{\prime}) \to 0
            \]

            need \underline{not} be exact for \(R^{\prime} \in R\)-alg. Usually surjectivity is the problem.

            Example: We take \(G = \operatorname{Res}_{\mathbb{R}}^\mathbb{C} (\mathbb{G}_{m,\mathbb{C}}) = \operatorname{Spec}(\mathbb{R}[x,y,z] / (z(x^2 + y^2) - 1)) \supset H = \operatorname{Spec}(\mathbb{R}[x,y] / (x^2 + y^2 - 1))\).

            \underline{Fact}: The morphism \(G = \underset{x^2 + y^2}{\operatorname{Spec}(\mathbb{R}[x,y]\left[ \frac{1}{x^2 + y^2} \right])} \underset{\mapsfrom}{\to}  Q: \underset{t}{\mathbb{G}_{m,\mathbb{R}} = \operatorname{Spec}(\mathbb{R}[t,t ^{-1}])}\) is the quotient of \(G\) by \(H \coloneqq \) we have an exact sequence of algebraic groups \(1 \to H = S^1 \to \underset{(x,y)}{\operatorname{Res}^\mathbb{C}_{\mathbb{R}}(\mathbb{G}_{m,\mathbb{C}})} \underset{\mapsto}{\to} \underset{x^2 + y^2}{\mathbb{G}_{m,\mathbb{R}}} \to 1\).
            
            Take \(\mathbb{R}\)-valued points: \(1 \to H(\mathbb{R}) = \underset{\subset \mathbb{C}^\times}{S^1} \to \underset{(x,y)}{\mathbb{C}^\times} \underset{\mapsto}{\to} \underset{x^2 + y^2}{\mathbb{R}^\times} \to 1 \)
            
            Note that \((x,y) \mapsto x^2 + y^2\) is \underline{not} surjective!

            \item If \(R = K\) is a field and \(G \in \operatorname{Ab}_R\) has the property that \(\forall \) field extensions \(L / K: G(L) = \{ 1 \}\) then this does \underline{not} imply that \(G\) is the trivial group scheme over \(R\).
            
            Example: \(\operatorname{char} K = p > 0\) and \(G = \underline{\mu}_{p,K} \implies \forall L / K\) field extensions, \(\underline{\mu}_{p,K}(L) = \{ 1 \}\).
        \end{enumerate} 

        Prototypical Examples of Exact Sequences: 

        \begin{enumerate}[label=\arabic*)]
            \item
            \begin{center}
                \begin{tikzcd}
                    & \zeta \ar[r,mapsto] & \zeta\quad a \ar[r,mapsto] & a^p \\
                    1 \ar[r] & \underline{\mu}_{p,R} \ar[r] & \underline{\mu}_{p^n,R} \ar[r] & \underline{\mu}_{p^{n-1},R} \ar[r] & 1\\
                    & R[t] / (t^p - 1) & R[x] / (x^{p^n} - 1) \ar[l] & R[y] / (y^{p^{n-1}} - 1) \\
                    & \overline{t} & \overline{x} \quad \overline{x}^p \ar[l,mapsto] & \overline{y} \ar[l,mapsto]
                \end{tikzcd}
            \end{center}
            \item If \(F = F_e\) is a LT \(\mathcal{O}_K\)-module for a uniformizer \(\pi\) then,
            \begin{center}
                \begin{tikzcd}
                    & & a \ar[r,mapsto] & \,[\pi](a) \\
                    0 \ar[r] & F[\pi] \ar[r] & F[\pi^m] \ar[r] & F[\pi^{m-1}] \ar[r] & 0
                \end{tikzcd}
            \end{center}
            \item If \(R = k = \overline{k}\) is a field of \(\operatorname{char} p > 0\) and \(E\) an \underline{ordinary} elliptic curve over \(k\) [so \(E[p](k) = E(k)[p] \cong \mathbb{Z} / p\)] then,
            
            \[
                0 \to E[p]^0 \to E[p] \to E[p]^{\text{\'et}} \cong \underline{\mathbb{Z} / p}_k \to 0 
            \]

            \(E[p]^0\) is connected component of rank \(p\).

            \(E[p]\) has rank \(p^2\) 

            \(E[p]^{\text{\'et}}\) is the \'Etale quotient. 
        \end{enumerate} 
    \end{remark}

    \subsubsection{Connected and \'etale groups}

    In this section \((R,\mathfrak{m})\) is a local complete noetherian ring (in particular, \(R \xrightarrow{can} R / \mathfrak{m}^n\) is an isomorphism). Let \(G \in \operatorname{Gps}_R^{\text{fin,loc free}} = \text{proj}, G = \operatorname{Spec}(A), A\) finite projective \(R\)-module.
    
    \begin{remark}
        In such a case \(A\) is a free \(R\)-module [since \(R\) is local] [HW7].
    \end{remark}

    There is an exact sequence in \(\operatorname{Gps}_R^{\text{fin, loc. free}}\) 

    \[
        0 \to G^0 \to G \to G^{\text{\'et}} \to 0
    \]

    where \(G^0\) is connected [ie the underlying topological space is connected] and \(G^{\text{\'et}}\) is \'etale, \(\mathcal{O}(G^{\text{\'et}})\) is an \'etale \(R\)-algebra.
    
    \begin{definition}
        Let \(A \xrightarrow{\varphi} B\) be a finitely generated \(A\)-algera. Then \(B\) is called \underline{\'etale} over \(A\), if
        
        \begin{enumerate}[label=\arabic*)]
            \item \(B\) is a flat \(A\)-module, meaning \(B \otimes_A (-)\) is an exact functor.
            \item \(\forall \mathfrak{q} \in \operatorname{Spec}(B)\) the homomorphism \(A_{\mathfrak{p}} \to B_{\mathfrak{q}}\) where \(\mathfrak{p} = \varphi^{-1}(\mathfrak{q})\) is unramified. i.e:
            
            \begin{itemize}
                \item \(\varphi_{\mathfrak{q}}(\mathfrak{p} A \mathfrak{p}) \cdot B_{\mathfrak{q}} = \mathfrak{q} \cdot B_{\mathfrak{q}}\)
                \item \(\kappa(\mathfrak{q})\coloneqq B_{\mathfrak{q}} / \mathfrak{q} B_{\mathfrak{q}} (= \operatorname{Frac}(B / \mathfrak{q}))\) is a separable (finite) extension of \(\kappa(\mathfrak{p}) = \operatorname{Frac}(A / \mathfrak{p})\)    
            \end{itemize} 
        \end{enumerate} 
    \end{definition}

    Example:

    \begin{enumerate}[label=\arabic*)]
        \item \(\vert \Gamma \vert < \infty \implies \underline{\Gamma}_R = \operatorname{Spec}(R^\Gamma)\) is \'etale.
        \item If \(A,B / R\) is \'etale then \(A \times B\) is \'etale over \(R\).
        \item \(\underline{\mathbb{Z} / n\mathbb{Z}}_R\) is \'etale over \(R\)
        \item If \(n\in R^\times\) then \(\underline{\mu_n}_R\) is \'etale (HW7)
    
        \textbf{Proposition.} (Milne, \'Et. Coh. I, Prop 3.2) Let \(A\) be an \(R\)-algebra of finite type. Then \(A\) is unramified over \(R \iff \forall \mathfrak{p} \in \operatorname{Spec}(R)\) and any separably closed extension \(\widetilde{k} / \kappa(\mathfrak{p}) = \operatorname{Frac}(R / \mathfrak{p})\), the \(\widetilde{k}\)-algebra 

        \[
            A \otimes_R \widetilde{k} = (A \otimes_R \kappa(\mathfrak{p})) \otimes_{\kappa(\mathfrak{p})} \widetilde{k}
        \]

        Is unramified over \(\widetilde{k}\), ie a finite product of copies of \(\widetilde{k}\).

        For us, \'etale = flat + unramified. We generally already have flat since we're working in the local case.

        \[
            \left( \underline{\mu}_{n,R} \times_{\operatorname{Spec}(R)} \operatorname{Spec}(\kappa(\mathfrak{p} )) \right) \times_{\operatorname{Spec}(\kappa(\mathfrak{p}))} \operatorname{Spec}(\widetilde{k}) = \underline{\mu}_{n,\widetilde{k}}
        \]

        \item \(R\) is a field of \(\operatorname{char} p > 0\) then \(\underline{\mu}_{p^n, R}\) and \(\underline{\alpha}_{p,R}\) are \underline{not} \'etale over \(R\), but they are connected: \(\vert \underline{\mu}_{p^n, R} \vert =n \{ \ast \} = \vert \underline{\alpha}_{p,R} \vert \) where \(\vert \cdot \vert\) denotes the underlying topological space.
        \item Suppose \((R,\mathfrak{m})\) is local and \(\operatorname{char}(R / \mathfrak{m}) = p > 0\) and \(n = p^e m, e > 0, p\nmid m\). Then the \underline{connected-\'etale sequence} for \(\underline{\mu}_{n,R}\) is:
        
        \[
            0 \to \underline{\mu}_{p^e, R} = (\underline{\mu}_{n,R})^0 \to \underline{\mu}_{n,R} \xrightarrow{\zeta \mapsto \zeta^{p^e}} \underline{\mu}_{m,R} = (\underline{\mu}_{n,R})^{\text{\'et}} \to 0
        \]

        This sequence actually splits. \(\underline{\mu}_{n,R} = \underline{\mu}_{p^e, R} \times_{\operatorname{Spec}(R)} \underline{\mu}_{m,R}\).
        
        \(\underline{\mu}_{p^e,R} = \operatorname{Spec}(R[x] / (x^{p^e} - 1))\): show that \(R[x] / (x^{p^e} - 1)\) is a local ring. It is known that spec of local rings are connected.

    \end{enumerate}

    More facts:

    \(G\) is connected \(\iff G = G^0\). Then the order of \(G\) is a power of \(p = \operatorname{char}(R / \mathfrak{m})\).

    In particular, \(G\) is \'etale if \(\operatorname{char}(R / \mathfrak{m}) = 0\).
    
    \(G\) is \'etale iff \(G = G^{\text{\'et}}\). One has an equivalence of categories:
    
    The category of finite affine \'etale commutative and co-commutative Hopf algebras over \(R\).

    The category of finite abelian groups \(\Gamma\) together with a continuous action of the absolute galois group \(G_k \times \Gamma \to \Gamma\) by group automorphisms [here \(k = R / \mathfrak{m}\)].

    Note that if \(R\) is local noetherian then f.g. flat \(\iff\) f.g. proj. \(\iff\) f.g. free.

    The equivalence is given as follows: \(A \mapsto \operatorname{Hom}_R(A,k^{\text{sep}})\).

    If \(G = \operatorname{Spec}(A)\) then \(G \mapsto G(k^{\text{sep}})\).

    There is a maximal \'etale extension \(R_{\text{\'et}}\), called the strict Henselization, which is local and whose residue field is \(k^{\text{sep}}\) (= separable closure of \(k\)), an done has an isomorphism of groups:

    \[
        \operatorname{Aut}(R_{\text{\'et}} / R) \xrightarrow{\cong} G_k
    \]

    And \((R_{\text{\'et}})^{G_k} = R\) 

    Given \((\Gamma, G_k \to \operatorname{Aut}(\Gamma))\) one sets \(A_\Gamma \coloneqq \operatorname{Map}_{G_k}(\Gamma , R_{\text{\'et}})\) [Galois Equivariant Map].

    \(\implies A_\Gamma\) is a finite free \(R\)-module, and \'etale as \(R\)-algebra and \(A_\Gamma\) has a Hopf-algebra structure, and then \(\underline{\Gamma }_R = \operatorname{Spec}(A_\Gamma)\) is a commutative finite locally free \'etale group scheme over \(R\).

    \begin{remark}
        If \((\Gamma, G_k \to \operatorname{Aut}(\Gamma))\) then \(\forall \sigma \in G_k, \sigma(0_\Gamma) = 0_\Gamma\). Thus,
        
        \[
            \operatorname{Map}_{G_k}(\Gamma, R_{\text{\'et}}) = \operatorname{Map}_{G_k}(\{ 0_\Gamma \}, R_{\text{\'et}}) \times \operatorname{Map}_{G_k}(\Gamma \setminus \{ 0 \} , R_{\text{\'et}})
        \]
        
        \[
            = R \times \underbrace{\operatorname{Map}_{G_k}(\Gamma \setminus \{ 0 \}, R_{\text{\'et}})}_{=\ker(\varepsilon_{A_\Gamma}), \text{ kernel of co-unit}}
        \] 

        Note that \(\ker(\varepsilon_{A_\Gamma})\) is itself a ring, so \(A_\Gamma = R \times \ker(\varepsilon_{A_\Gamma})\) is itself a product ring.

        Therefore, \(\underline{\Gamma}_R = \operatorname{Spec}(A_\Gamma) = \underbrace{\operatorname{Spec}(R)}_{\text{image of unit section}} \coprod \operatorname{Spec}(\ker(\varepsilon_{A_\Gamma}))\).
        
        Upshot: If \(\Gamma \neq 0\) then \(\underline{\Gamma}_R\) is not connected.

        A finite locally free \'etale group scheme is never connected unless it is the trivial group scheme (assumption \(R\) is local).

        % insert picture

    \end{remark}

    \subsection{\(p\)-divisible groups}

    \(p\) always denotes a prime number.

    \begin{definition}
        An (abstract) abelian group \(\Gamma\) is callled \underline{\(p\)-divisible} if \([p]_\Gamma : \Gamma \to \Gamma, a \mapsto pa \coloneqq a + \cdots + a\) is surjective.

        In particular, every element of \(\Gamma\) can be `divided' by \(p\). Note that the result of the division need not be unique. Meaning, \([p]_\Gamma\) need not be injective.
    \end{definition}

    \begin{example}
        \begin{enumerate}[label=\arabic*)]
            \item \(\Gamma = \mathbb{Q}\) is uniquely \(p\)-divisible: \([p]_{\mathbb{Q}}\) is a bijection.
            \item \(\Gamma = \mathbb{Q}_p / \mathbb{Z}_p = \bigcup_{\nu=0}^{\infty} \frac{1}{p^{\nu}} / \mathbb{Z}\). It is surjective but not injective: \([p]_{\mathbb{Q}_p / \mathbb{Z}_p}\) has a kernel.
        \end{enumerate} 
    \end{example}

    In (arithmetic) algebraic geometry, `\(p\)-divisible' has a more specific meaning. These are also called Barsotti-Tate groups.

    Grothendieck, Groupes de Borsotti-Tate et eristaux de Dreudonn\'e (1974)

    Messing, The crystal associated to Borsotti-Tate groups

    Berthelot-Breen-Messing

    Demazure-Gabriel

    Zink's Display Theory

    \subsubsection{Definitions}

    Let \(R\) be a ring, \(h\in \mathbb{Z}_{\geq 0}\). A \underline{\(p\)-divisible group over \(R\) of height \(h\)} is an inductive system \(G = (G_\nu, i_\nu: G_\nu \to G_{\nu+1})_{\nu\geq 0}\) where:
    
    \begin{itemize}
        \item \(G_\nu\) is a finite loc. free comm. group scheme of order \(p^{\nu h}\) over \(R\).
        \item for each \(\nu \geq 0\) the sequence:
        
        \[
            0 \to G_\nu \xrightarrow{i_\nu} G_{\nu+1} \xrightarrow{[p^\nu]_{G_{\nu + 1}}} G_{\nu + 1}
        \]

        ie exact. \(i_\nu: G_\nu \to G_{\nu + 1}\) is the categorical kernel of \([p^\nu]: G_{\nu + 1} \to G_{\nu + 1}\).

        We have the following commutative diagram:

        \begin{center}
            \begin{tikzcd}
                0 \ar[r] & G_\nu \ar[r,"i_\nu"] & G_{\nu+1} \ar[r,"\text{[}p^\nu \text{]}_{G_{\nu + 1}}"] & G_{\nu+1} \\ & & H \ar[ul,dotted,"\exists!"] \ar[u,"\varphi"] \ar[r,"p_H"] & \operatorname{Spec}(R) \ar[u,"e_{G_{\nu + 1}}"]
            \end{tikzcd}
        \end{center}
    
    \end{itemize} 


    If \(G_\nu\) would be ordinary abelian groups then \(G_\nu\) would have order \(p^{\nu h}\) and it would be annihilated by \(p^\nu\).

    Thus, \(G_1 \cong (\mathbb{Z} / p)^h\) and \(G_\nu \cong \bigoplus_{i=1}^s \mathbb{Z} / p^{m_i}\) and \(\sum_{i=1}^s m_i = \nu h\).

    Thus, \(G_\nu[p] = \bigoplus_{i=1}^s p^{m_i - 1} \mathbb{Z} / p^m \mathbb{Z}  \implies s = h \implies \forall i, m_i = \nu.\)

    Upshot: \(G_\nu = (\mathbb{Z} / p^\nu)^h\).

    \section*{Thursday, 3/6/2025}
    
    If the \(G_\nu\) would be just finite abelia= n groups \(\implies G_\nu = (\mathbb{Z} / p^\nu)^h \implies G = (\mathbb{Q}_p / \mathbb{Z}_p)^h\).
    
    Examples of more \(p\)-divisible groups:

    \begin{enumerate}[label=\arabic*)]
        \item \((\underline{(\mathbb{Z} / p^\nu)^h}_R)_\nu = \left( \underline{\left( \frac{1}{p^\nu}\mathbb{Z} / \mathbb{Z} \right)}_R \right)_\nu \) is the constant \(p\)-divisible group of ht \(h\) over \(R\).
        \item \((\underline{\mu}_{p^\nu, R}^{\oplus h})_\nu\) is a \(p\)-divisible group over \(R\) of ht \(h\).
        
        Question: Are there any other \(p\)-divisible groups over \(\mathbb{Z}\) other than \(\underline{(\mathbb{Q}_p / \mathbb{Z}_p)^h}_\mathbb{Z}\) or \(\underline{\mu}_{p^{\infty} , \mathbb{Z}}^{\oplus h}\)?
    
        We don't know the answer.

        See Fontaine (1980's) Ji n'ya pas de courbes elliptiques sur \(\mathbb{Z}\)

        \item \(F =\) LT Formal \(\mathcal{O}_K\)-module, \([K:\mathbb{Q}_p] < \infty , \vert k_K \vert = q = p^f\) then \((F[p^\nu])_{\nu\geq 0}\) is a \(p\)-divisible over \(\mathcal{O}_K\) of height \(h = [K:\mathbb{Q}_p]\).
        
        Question: \(F[p^\nu] \underset{?}{\cong} (\underline{\mu}_{p^\nu, \mathcal{O}_K})^{\oplus h}, h = [K:\mathbb{Q}_p]\)? Answer is no if \(h > 1\). 

        Lubin-Tate Theory provides us with \(p\)-divisible groups that are not obvious!
    \end{enumerate}

    A homomorphism of \(p\)-divisible groups \(f: G = (G_\nu) \to H = (H_\nu)\) is a system of morphisms of group schemes \(f_\nu: G_\nu \to H_\nu\) which are compatible with the transition maps:

    \begin{center}
        \begin{tikzcd}
            G_\nu \ar[r,"f_\nu"] \ar[d] & H_\nu \ar[d] \\
            G_{\nu+1} \ar[r, "f_{\nu+1}"] & H_{\nu+1}
        \end{tikzcd}
    \end{center}

    For \(\nu,\mu \geq 0\) let \(i_{\nu,\mu}:G_{\nu} \xrightarrow{i_\nu} G_{\nu+1} \xrightarrow{i_{\nu+1}} \cdots \to G_{\nu+\mu}\) be the composition of \(i_j\) where \(\nu\leq j\leq \nu +\mu\).

    Then, we have \(G_\nu \xrightarrow{i_{\nu,\mu}} G_{\nu+\mu} = \ker \left( [p^\nu]: G_{\nu+\mu} \to G_{\nu+\mu} \right) \) 

    \(\implies [p^\nu]: G_{\nu+\mu} \to G_{\nu+\mu}\) has the property that \([p^\nu] \circ [p^\mu] = 0\). Indeed,
    
    \begin{center}
        \begin{tikzcd}
            \text{[}p^\nu\text{]} \ar[r,phantom,":"] & G_{\nu+\mu} \ar[r] \ar[d,"\exists!","j_{\mu,\nu}"'] & G_{\nu+\mu} \ar[d,"\text{[}p^\nu\text{]}"] \\ & G_\nu \ar[ur,"i_{\nu,\mu}"] & G_{\nu+\mu}
        \end{tikzcd}
    \end{center}

    Thus we have an exact sequence:

    \begin{center}
        \begin{tikzcd}
            & & & G_{\nu+\mu} \\
            0 \ar[r] & G_{\mu} \ar[r,"i_{\mu,\nu}"] & G_{\mu+\nu} \ar[ru,"\text{[}p^\mu\text{]}"] \ar[r, "j_{\mu,\nu}"] & G_{\nu} \ar[u,"i_{\nu,\mu}"] \ar[r] & 0
        \end{tikzcd}
    \end{center}

    eg \(0 \to p ^{-1} \mathbb{Z} / \mathbb{Z} \to p ^{-2} \mathbb{Z} / \mathbb{Z} \xrightarrow{p} p ^{-1} \mathbb{Z} / \mathbb{Z} \to 0\) 

    \subsubsection{Relations with Formal Lie Groups}

    \(R\) is assumed to be noetherian, local with maximal \(\mathfrak{m}\), complete with residue field \(k\) of \(\operatorname{char} p > 0\).

    An \(n\)-dimensional commutative formal Lie group \(F\) over \(R\) is given by:

    \(F(x,y) = (F_1(x,y), \cdots , F_n(x,y)) \in R[[x,y]]^n\)

    Here \(R[[x,y]] = R[[x_1, \cdots , x_n, y_1, \cdots , y_n]]\)

    Satisfying,

    \begin{enumerate}[label=\roman*)]
        \item \(F(x,y)=F(y,x)\)
        \item \(F(0,y)=y = (y_1, \cdots , y_n)\)
        \item \(F(F(x,y),z)=F(x,F(y,z))\)  
    \end{enumerate} 

    We write \(x \underset{F}{+} y = F(x,y)\) then we have \([p](x) = x \underset{F}{+} \cdots \underset{F}{+} x = ([p]_1 (x), \cdots , [p]_n(x))\).

    \(F\) is called \(p\) divisible if \([p](x)\) is an isogeny, i.e. the map \(R[[x]] \to R[[x]]\) sending \(x_i \to [p]_i (x), 1 \leq i \leq n\) turns \(R[[x]]\) into a module over itself which is finitely generated and free.

    Example: We look at dimension \(1\).

    \begin{enumerate}[label=\arabic*)]
        \item \(F(x,y) = x + y \implies [p](x) = px\), then \(R[[x]]\) is \underline{not} a finite \(R[[x]]\)-module via \(x \mapsto px\). Recall that \(k\) has \(\operatorname{char} p\) so the \(\mod \mathfrak{m}\) reduction of this map is \(k[[x]] \to k[[x]]\) sending \(x \mapsto 0\).
        \item \(F(x,y) = x + y + xy \implies [p](x) = (1+x)^p - 1 = px + \binom{p}{2} x^2 + \cdots + p x^{p-1} + x^p\) which is regular of order \(p\) in the terminology given in the HW.
        
        HW7 \(\implies R[[x]]\) a free \(R[[x]]\)-module of rank \(p\).
        
        \item If \(F\) is a Lubin-Tate \(\mathcal{O}_K\) module, it is \(p\)-divisible when \(K / \mathbb{Q}_p\) is finite.
    \end{enumerate} 

    If \(F\) is \(p\)-divisible, then not only multiplication by \(p\) is an isogeny, but iterations \([p^\nu]\) is an isogeny.
    
    For any \(\nu \geq 0, A_\nu \coloneqq \frac{R[[x]]}{([p^\nu]_1(x), \cdots , [p^\nu]_n(x)) R[[x]]}\) is finite free over \(R\), and the power series \(F(x,y)\) defines a co-multiplication \(A_\nu \to A_\nu \otimes_R A_\nu\) given by \(\overline{x_i} \mapsto F_i(x,y) \mod ([p^\nu]_j)_{j=1}^n\).

    Then \(A_\nu\) becomes a commutative and co-commutative Hopf-algebra \(/ R\) and thus \(G_\nu = \operatorname{Spec}(A_\nu)\) is a finite free commutative group scheme \(/ R\).

    Upshot: \(G = (G_\nu, \underset{A_\nu}{G_\nu} \underset{\leftarrow}{\to} \underset{A_\nu+1}{G_{\nu+1})}\)  is p\(\)-divisible over \(R\) and each \(A_\nu\) is a local ring \(\implies G_\nu\) is connected.

    \textbf{Proposition 2.2.2.1.} Let \(R\) be a ccomplete noetherian local ring with residue field \(k\) of \(\operatorname{char} p > 0\). Then, \(F \rightsquigarrow G_F\) is an equivalence of the categories of \(p\)-divisible formal Lie groups and category of connected \(p\)-divisible groups over \(R\).

    \begin{remark}
        A \(p\)-divisible group \(G = (G_\nu)\) is called \underline{connected} if all \((G_\nu)\) are connected.
    \end{remark}

    Example:

    \begin{enumerate}[label=\arabic*)]
        \item \(F = \widehat{\mathbb{G}}_{m,R}\) (so \(F(x,y) = x+y+xy \implies G_F = \underline{\mu}_{p^{\infty}, R}\))
        \item \(F\)= LT \(\mathcal{O}_K\)-module, \([K:\mathbb{Q}_p] < \infty \implies G_F = (F[p^\nu])_\nu\). 
    \end{enumerate} 

    Going from connected \(p\)-divisible groups to formal Lie Groups:

    Given \(G = (G_\nu, i_\nu)\) where \(G_\nu = \operatorname{Spec}(A_\nu)\) connected \(p\)-divisible group over \(R\) and \(i_\nu\) corresponds to morphisms of Hopf algebras \(A_{\nu+1} \to A_\nu\).

    \textbf{Theorem.} \(A \coloneqq \varprojlim_{\nu} A_\nu\) is isomorphic to \(R[[x_1, \cdots , x_n]]\) and the co-multiplications \(A_\nu \to A_\nu \otimes A_\nu\) give a ring homomorphism:
    
    \(A \to \varprojlim_\nu A_\nu \otimes A_\nu \cong R[[x_1, \cdots , x_n, y_1, \cdots , y_n]] (\cong A \widehat{\otimes}_R A)\).

    Complete w.r.t.\ the ideal \(\mathfrak{m} \otimes A + A \otimes \mathfrak{m}\).

    \begin{proof}

        Sending \(x_i\) to \(F_i(x,y)\) and \(F(x,y)=(F_1(x,y),\cdots ,F_n(x,y))\) is a formal lie group over \(R\) as define dbefore.

    \end{proof}

    \textbf{Proposition - Definition.} Given a \(p\)-divisible group \(G = (G_\nu)_\nu\) over \(R\), the systems \(G^0 = (G^0_\nu)_\nu\) and \(G^{\text{\'et}} =n (G_\nu^{\text{\'et}})_\nu\) are \(p\)-divisible groups. One has \(\operatorname{ht}(G) = \operatorname{ht}(G^0) = \operatorname{ht}(G^{\text{\'et}})\). If \(F\) is the formal lie group associated to \(G^0\) by proposition 2.2.2.1 then we set \(\dim(G) \coloneqq \dim (G^0) \coloneqq \dim (F)\).
    
    Example:

    \begin{enumerate}[label=\arabic*)]
        \item \(\dim(\underline{\mu}_{p^{\infty},R}) = 1\) recall that \(\underline{\mu}_{p^{\infty},R} \leftrightarrow \widehat{\mathbb{G}_m}\)
        \item \(\dim(\underline{\mathbb{Q}_p / \mathbb{Z}_p}_R ) = 0\)
        \item \(\mathscr{E} / R\) elliptic curve, \(\mathscr{E}[p^{\infty}] = (\mathscr{E} [p^\nu])_\nu \rightsquigarrow 0 \to \mathscr{E} [p^{\infty}]^0 \to \mathscr{E}[p^\infty] \implies \mathscr{E}[p^{\infty}]^{\text{\'et}} \to 0\)    
    \end{enumerate} 

    Either \(\mathscr{E} [p^{\infty}]^{\text{\'et}} = 0 \implies \dim(\mathscr{E}[p^{\infty}]) = 1\) and \(\operatorname{ht}(\mathscr{E}[p^{\infty}]^0) = \operatorname{ht}(\mathscr{E}[p^{\infty}]) = 2\) supersingular case.
    
    Ordinary: \(\mathscr{E}[p^{\infty}]^{\text{\'et}} \neq 0 \implies \operatorname{ht}(\mathscr{E}[p^{\infty}]^{\text{\'et}}) = 1\) and \(\operatorname{ht}(\mathscr{E}[p^{\infty}]^0) = 1\)
    
    \(\dim (\mathscr{E}[p^{\infty}]^{\text{\'et}}) = 0\) and \(\dim(\mathscr{E}[p^{\infty}]^0) = 1\)
 

    In general \(\operatorname{ht}(\mathscr{A}[p^{\infty}]^0) \in [g, \cdots , 2g]\). Everything can be achieved inbetween. \(2g\) is the supersingular case, which is extreme in the sense that the \'etale part is \(0\).

    \(\dim \left( \underbrace{\mathscr{E}_{\text{ord}}^a \times \mathscr{E}_{\text{supersing}}^b}_{\text{connected part} } \right) = a+b\)
    
    \(= (\mathscr{E}^0_{\text{ord}})^a \times \mathscr{E}_{\text{super}}^b\)
    
    So, \(\operatorname{ht}(\mathscr{E}[p^{\infty}]^0) = a + 2b\).

    This shows we can achieve any number between \(g\) and \(2g\).

    \section*{Tuesday, 3/11/2025}
    
    \subsection*{The Discriminant}

    Let \(R\) be any ring, and \(A\) a commutative \(R\)-algebra which is f.g. and free as \(R\)-module. Then we have the \underline{trace map} \(\Tr = \Tr_{A / R}: A \to R\) defined as,

    \(\Tr(a) =\) trace(mult. by \(a: A \to A\)) choose basis \(\rightsquigarrow\) matrix \(X_a \in M_n(R), n = \operatorname{rank} _R A = \operatorname{tr}(X_a)\).
    
    The \underline{trace form} of \(A / R\) is the \(R\)-bilinear map \(A \times A \xrightarrow{b = b_{A / R}} R, b_{A / R}(a, a^{\prime}) = \Tr (aa^{\prime})\).
    
    \begin{definition}
        [Discriminant]
        
        \begin{enumerate}[label=\arabic*)]
            \item  The \underline{discriminant} of \(A / R\), called \(\operatorname{disc}(A / R)\), is the discriminant of the trace form, which is the ideal generated by the discriminant of any basis \((e_1, \cdots , e_n)\) of \(A\) as an \(R\)-module. The latter is defined to be:

            \[
                \det \left( (b_{A / R} (e_i, e_j))_{1 \leq i,j \leq n} \right) = \det 0\left( (\Tr_{A / R}(e_i e_j))_{1 \leq i,j \leq n} \right)  
            \]

            This ideal is independent of the choice of a basis.
            \item If \(G = \operatorname{Spec}(A)\) is a finite group scheme over \(R\) with a free \(R\)-module, we set \(\operatorname{disc}(G) \coloneqq \operatorname{disc}(A / R) \subset R\). 
        \end{enumerate} 
    \end{definition}

    Examples:

    \begin{enumerate}[label=\arabic*)]
        \item Suppose \(G = \underline{\mu}_{p,R}  = \operatorname{Spec}\left( R[x] / (x^p - 1) \right), e_i = x^i, 0 \leq i \leq p-1\), then \(e_i e_j = \overline{x}^{i+j} = \overline{x}^{i + j \mod p}\).
        
        Then, \(\Tr_{A / R}(\overline{x}^0) = \Tr_{A / R}(1) = p, \Tr_{A / R}(\overline{x}^{\neq 0}) = 0\).
        
        Thus, if \(i+j \equiv 0 \mod p, \Tr_{A / R}(e_i e_j) = p\), otherwise \(0\). Then, the discriminant is generated by (example: \(p = 5\))

        \[
            \begin{bmatrix}
                p &  &  &  &  \\
                 &  &  &  & p \\
                 &  &  & p &  \\
                 &  & p &  &  \\
                 & p &  &  &  \\
            \end{bmatrix} 
        \]

        Therefore, \(\operatorname{disc}\left( \underline{\mu}_{p,R} \right) = p^p \cdot R\).
        
        \item If \(G\) is \'etale then \(\operatorname{disc}(G) = 1 \cdot R\).
    \end{enumerate} 

    \textbf{Proposition 2.2.2.2.} If \(G = (G_\nu)_\nu\) is  a \(p\)-divisible group over \(R\), \(R\) complete local noetherian of height \(h\) and dimension \(n\), then \(\operatorname{disc}(G_\nu) = p^{n\nu p^{h \nu}}\cdot R\). 

    Proof is involved.

    \subsubsection{Duality for \(p\)-divisible groups}

    Let \(G = (G_\nu)_\nu\) be a \(p\)-divisible group over \(R, R\) not necessarily local.

    Then we have an exact sequence:

    \begin{center}
        \begin{tikzcd}
            0 \ar[r] & G_1 \ar[r] & G_{\nu + 1} \ar[r,"\text{[}p\text{]}", "j_{1,\nu}"'] & G_\nu \ar[r] & 0
        \end{tikzcd}
    \end{center}

    Applying Cartier Duality we get:

    \begin{center}
        \begin{tikzcd}
            0 \ar[r] & G_\nu^\vee \ar[r,"j_{1,\nu}^\vee"'] & G_{\nu+1}^\vee \ar[r] & G_1^\vee \ar[r] & 0
        \end{tikzcd}
    \end{center}

    Check: \((G_\nu^\vee, j_{1,\nu}^\vee)\) form a \(p\)-divisible group over \(R\), called the Cartier dual of \(G\).

    Note: Since \(\operatorname{ord}(G_\nu^\vee) = \operatorname{ord}(G_\nu) = p^{\nu h}, h = \operatorname{ht}(G)\) hence \(\operatorname{ht}(G^\vee) = \operatorname{ht}(G)\).
    
    Standard Example: \(\left( \underline{\mu}_{p^{\infty} , R} \right)^\vee = \left( \left( \underline{\mu}_{p^\nu, R} \right) ^\vee \right) _\nu = \left( \frac{1}{p^\nu} \mathbb{Z} / \mathbb{Z} \right)_\nu = \underline{\mathbb{Q}_p / \mathbb{Z}_p}_R\)  

    \textbf{Proposition 2.2.3.1.} Suppose \(R\) is a complete local noetherian ring with residue vield \(k\) of \(\operatorname{char} p\). Then, \(\dim(G) + \dim(G^\vee) = \operatorname{ht}(G)\).
    
    Example: Let \([K:\mathbb{Q}_p] = d, F =\) LT \(\mathcal{O}_K\) module, then we know \(F[p^{\infty}] = \left( F[p^\nu] \right)_\nu\)  has height \(d\) and dimension \(1\).

    Then, 2.2.3.1 \(\implies \dim \left( F[p^{\infty}]^\vee \right) = d-1\) 

    \subsection{Frobenius and Verschiebung}

    Let \(k\) be a field of \(\operatorname{char} p > 0\). (This should also work for any \(\mathbb{F}_p\) algebra).

    Let \(\varphi : k \to k, \lambda \mapsto \lambda^p\) be the (absolute) Frobenius.

    If \(G = \operatorname{Spec}(A)\) is a group scheme \(/ k\) then we can form \(A^{(p)} = k \otimes_{\varphi , k} A\) which we consider as a \(k\)-algebra via the left \(\otimes\)-factor and \(G^{(p)} \coloneqq \operatorname{Spec}(A^{(p)}) = \operatorname{Spec}(k) \times_{\varphi^a, \operatorname{Spec}(k)} \operatorname{Spec}(A) = \operatorname{Spec}(k) \times_{\varphi6a, \operatorname{Spec}(k)} G \)
    
    Which is again a group scheme over \(k\) via

    \[
        pr_1: G^{(p)} = \operatorname{Spec}(k) \times_{\varphi^a, \operatorname{Spec}(k)} G \to \operatorname{Spec}(k)
    \]

    The morphism of \(k\)-algebras \(A^{(p)} = k \otimes_{\varphi , k} A \xrightarrow{F_G^\#} A\)
    
    \(\lambda \otimes a \mapsto \lambda a^p\) is well defined:

    \(\lambda \otimes \mu a \mapsto \lambda \mu^p a ^p\)

    \(= \lambda \mu^p .\otimes a \mapsto \lambda \mu ^p a^p\)
    
    and is a morphism of Hopf algebras over \(k\) (check) and corresponds to a morphism \(F_G: G \to G^{(p)}\) of group schemes over \(k\), called \underline{the Frobenius} of \(G\).

    Question: How do we think about \(A^{(p)}\)?

    We write \(A = k[x_1, \cdots , x_n] / (f_1, \cdots , f_r)\).

    Then, Claim: \(k \otimes_{\varphi, k} A \xrightarrow{\cong} k[x] / (f_1^{\varphi}, \cdots , f_r^{\varphi})\) where \(f^\varphi\) is the polynomial obtained from \(f\) by applying \(\varphi\) to all coefficients.

    This map sends \(\lambda \otimes x_1^{m_1} \cdots x_n^{m_n} \mapsto \lambda x_1^{m_1} \cdots x_n^{m_n}\).
    
    Well defined: Using multi index: suppose \(f_j(x) = \sum_{m} a_m x^m, a_m \in k \implies 1 \otimes f_j(x) = \sum_{m} a_m^p \otimes x^m \mapsto \sum_{m} a_m^p x^m = f_j^\varphi(x)\) 

    Hence \(G^{(p)} = \operatorname{Spec}(A^{(p)})\) is obtained by applying the Frobenius to the coefficients of the defining equations of \(G\).

    Question: How do we think of \(F_G\)? Again write \(A = k[x] / (f_1, \cdots , f_r)\).

    \begin{center}
        \begin{tikzcd}
            A^{(p)}  \ar[r,phantom,"="] & k \underset{\varphi,k}{\otimes} A \ar[ddd,"F_G^\#"] \ar[rrrr, "\cong"] \ar[rd,"\ni"] & & & & \frac{k[x]}{(f_1^{\varphi}, \cdots, f_r^{\varphi})} \ar[ddd] & f_j^\varphi \ar[ddd, mapsto] \\
            \lambda\otimes a \ar[d,mapsto] & & 1 \otimes \overline{x}_i \ar[r,mapsto] & \overline{x}_i \\

            \lambda \otimes a^p & & 1 \otimes \overline{x}_i^p \ar[r,mapsto] & \overline{x}_i^p \\

            & A \ar[rrrr,"id_A"] & & & & \frac{k[x]}{(f_1, \cdots, f_r)} & \stackrel{f_j^{\varphi}(x^p)}{ = (f_j(x))^p}

        \end{tikzcd}
    \end{center}

    Example:

    \begin{enumerate}[label=\arabic*)]
        \item \(G = \underline{\mu}_{n,k}\) [any \(n\)], \((\underline{\mu}_{n,k})^{(p)} = \operatorname{Spec}\left( \left( k[x] / (x^n - 1) \right) ^{(p)} \right) \cong \operatorname{Spec} \left( k[x] / (x^n - 1) \right) = \underline{\mu_{n,k}}\)
        
        \(F_G: \underline{\mu}_{n,k} \to (\underline{\mu}_{n,k})^{(p)} = \underline{\mu}_{n,k}\) hence \(F_{\underline{\mu}_{n,k}} = [p]_{\underline{\mu}_{n,k}}\) is multiplication by \(p\), with \(\overline{x}^p \mapsfrom \overline{x}\). This is multiplication by \(p\). If \(p\nmid n\) then \(F_G\) is invertible.
        
        \item If \(G\) is finite \'etale then \(F_G: G \to G^{(p)}\) is an isomorphism.
        
    \end{enumerate} 

    \underline{Verschiebung} \(G / K\) finite group scheme, \(k\) field of \(\operatorname{char} p\) or \(\mathbb{F}_p\)-algebra.
    
    \(F_{G^\vee}: G^\vee \to (G^\vee)^{(p)} \underset{can}{\cong} (G^{(p)})^\vee\) [check], dualize again and get:

    \(V_G: G^{(p)} \underset{can}{\cong} ((G^{(p)})^\vee)^\vee \to (G^\vee)^\vee = G\) which is a morphism of group schemes over \(k\).
    
    \textbf{Proposition.} \(V_G \circ F_G = [p]_G, F_G \circ V_G = [p]_{G^{(p)}}\).

    \section*{Thursday, 3/13/2025}
    
    Recall: Forbenius and Verschiebung: \(R=k=\) field of \(\operatorname{char} p > 0\).

    \(G^{(p)} = G \underset{\operatorname{Spec}(k),\varphi^a}{\times} \operatorname{Spec}(k), \varphi : k \to k, \lambda \mapsto \lambda^p\).
    
    \(= \operatorname{Spec}(A^{(p)}), A^{(p)}= A \underset{k,\varphi}{\otimes} k\)


    \begin{tikzcd}
        G \ar[rr] \ar[rd] & & G^{(p)} \ar[ld] \\ & \operatorname{Spec}(k)        
    \end{tikzcd}, \(V_G = (F_{G^\vee})^\vee:((G^\vee)^{(p)})^\vee \underset{\text{check}}{\cong} G^{(p)} \to (G^\vee)^\vee\cong G\)
    
    Lemma: \(F_G \circ V_G = [p]_{G^{(p)}}\) and \(V_G \circ F_G = [p]_G\).

    Sketch of Proof of 2.2.3.1. [\(\dim(G) + \dim(G^\vee) = \operatorname{ht} (G)\)] Note: If \(I \subset R\) is an ideal and \(G \mod I = G \underset{\operatorname{Spec} R}{\times} \operatorname{Spec}(R / I)\), then \(F_{G\mod I} = F_G \mod I \in (R / I)[[x_1, \cdots , x_n]] \implies \dim (G \mod I) = \dim G\) where \(F_{G\mod I}\) and \(F_G\) are the associated formal groups.
    
    Hence we may take \(I = \mathfrak{m}_R \rightsquigarrow\) reduced to the statement for \(R = k\) is a field of \(\operatorname{char} p\).

    We have universal property:

    \begin{center}
        \begin{tikzcd}
            G^{(p)} & \ker\left(G_1^{(p)}\xrightarrow{V_{G_1}} G_1\right) \ar[l,hook] \\ & G_1 \ar[lu,"F_{G_1}"] \ar[u,"\text{`}F_{G_1}\text{'}", dotted]
        \end{tikzcd}
    \end{center}

    Previous lemma \(\implies \exists\) exact sequence:

    \begin{center}
        \begin{tikzcd}
            0 \ar[r] & \ker(F_{G_1}) \ar[r] & G_1 \ar[rr,"\text{`}F_{G_1}\text{'}"] \ar[rd,"F_{G_1}"] & & \ker\left(V_{G_1}\right) \ar[r] \ar[ld,"V_{G_1}",hook] & 0 \\ & & & G_1^{(p)}
        \end{tikzcd}
    \end{center}

    \(V_{G_1} \circ  F_{G_1} = [p]_{G_1}\).

    Similarly,

    \begin{center}
        \begin{tikzcd}
            0 \ar[r] & \ker(V_{G_1}) \ar[r] & G_1^{(p)} \ar[r,"\text{`}V_{G_1}\text{'}"] & \ker(F_{G_1}) \ar[r] & 0
        \end{tikzcd}
    \end{center}

    2.1.4 implies,

    \begin{center}
        \begin{tikzcd}
            0 \ar[r] & G^0_1 \ar[r] & G_1 \ar[r] & G_1^{\text{\'et}} \ar[r] & 0
        \end{tikzcd}
    \end{center}

    \(F_{G_1}^{\text{\'et}}\) is an isomorphism (HW9) \(\implies \ker(F_{G_1}) \hookrightarrow G_1^0 = \operatorname{Spec}\left( \frac{k[[x_1, \cdots , x_n]]}{\left( [p]_1(x), \cdots , [p]_n(x) \right) } \right) \)  

    Explcit description \(\implies \ker (F_{G_1}) = \operatorname{Spec} \left( \frac{k[[x_1, \cdots , x_n]]}{(x_1^p, \cdots , x_n^p)} \right)\)

    \(\implies \operatorname{ord}(\ker (F_{G_1}))=p^n, \operatorname{ord} (G_1)=p^h \implies \operatorname{ord} (\ker(V_{G_1})) = p^{h-n}\).

    One has: \(\ker (V_{G_1})^\vee \cong \ker (F_{G_1^\vee})\).

    Therefore, \(\dim (G^\vee) = \log_p \operatorname{ord}(\ker(F_{G_1^\vee})) = \log_p (\operatorname{ord}(\ker(V_{G_1})^\vee)) =\)
    
    \( \log_p(\operatorname{ord}(\ker(V_{G_1}))) = \log_p p^{h-n} = h-n\).

    \subsection{\(S\)-valued points and the Galois modules \(\Phi(G)\) and \(T(G)\)}

    \((R,\mathfrak{m}) =\) CDVR (complete discrete valuation ring) with uniformizer \(\varpi\) and residue field \(k\) of \(\operatorname{char} p > 0, K = \operatorname{Frac}(R), L =\) completion of a Galois extension inside \(\overline{K} =\) fixed alg. closure \(\implies L \subset \overline{K}^\wedge\).
    
    \(S = \mathcal{O}_L\) is a valuation ring, not necessarily noetherian, not necessarily PID.

    Example:

    \begin{enumerate}[label=\arabic*)]
        \item \(L = \widehat{K}^{nr} \implies S\) is noetherian and its maximal ideal is generated by \(\varpi\).
        
        \item \(L =\) completion of \(K(\mu_{p^{\infty}})\) if \(\operatorname{char} (K) = 0 \implies L\) is not discretely valued, \(S\) is not PID.
        
        \item \(L = \overline{K}^\wedge \implies S\) is not a PID.
    \end{enumerate} 

    \begin{definition}
        Let \(G\) be a \(p\)-divisible group over \(R\).

        \[
            G(S) \coloneqq \varprojlim_i G(S / \varpi^i S)
        \]

        where \(G(S / \varpi^i) \coloneqq \varinjlim_\nu G_\nu(S / \varpi^i)\) 
    \end{definition}

    Caution: In general, \(G(S) \neq \varinjlim_\nu G_\nu(S)\).

    Note: \begin{tikzcd}S / \varpi^{i+1} \ar[rr] & & S / \varpi^i \\ & \mathcal{O}(G_\nu) \ar[ul] \ar[ur, dotted] \end{tikzcd} \( \rightsquigarrow G_\nu(S / \varpi^{i+1}) \to G_\nu(S / \varpi^i)\).
    
    \(G(S / \varpi^{i+1}) = \varinjlim_\nu G_\nu(S / \varpi^{i+1}) \to \varinjlim_{\nu} G_\nu(S / \varpi^i) = G(S / \varpi^i)\)
    
    These are the maps in this proj. system.

    Example: \(K / \mathbb{Q}_p\) finite, \(\varpi\) uniformizer of \(K, G = \underline{\mu}_{p^{\infty}, R}, L = \overline{K}^\wedge(=\mathbb{C}_p)\).
    
    \(G_\nu (S / \varpi^i) = \operatorname{Hom}_{R\text{-alg}}\left( R[x] / (x^{p^\nu} - 1), S / \varpi^i \right) \supset \mu_{p^\nu}(L) = \mu_{p^\nu}(\overline{K})\).
    
    \[
        \xrightarrow{\text{bij}} \left\{ \zeta \in S / \varpi^i \mid \zeta^{p^\nu} = 1 \text{ in } S / \varpi^i \right\} 
    \]

    \(\implies \zeta \equiv 1 \mod \mathfrak{m}_S\).

    Claim: \(\forall a\in \mathfrak{m}_S \forall i > 0 \exists \nu \geq 0 : 1 + a \mod \varpi^i S \in G_\nu(S / \varpi^i)\).

    \begin{proof}
        Choose \(\nu \gg 0\) such that \(\forall 1 \leq j \leq p^\nu, \binom{p^{\nu}}{j} a^j \in \varpi^i S\).
        
        Reason: \(\binom{p^\nu}{j} = \frac{p^\nu(p^\nu - 1) \cdots (p^\nu - j + 1)}{j!}\), so for \(\nu \gg 0\) the numerator is highly divisible by \(p\) and thus \(\varpi\).
        
        Exercise: such \(\nu\) exists.

        Therefore, \(1+a\in G_\nu(S / \varpi^i)\). The claim is proved.

        The claim implies, \(\forall a\in \mathfrak{m}_S, 1+a \mod \varpi^i \in G(S / \varpi^i) = \varinjlim_\nu G_\nu (S / \varpi^i)\) [we can think about the inductive limit as union].  

        This gives us a coherent system \(\mod \varpi^i\) therefore we have,

        \[
            1 + a\in \varprojlim_i G(S / \varpi^i) = G(S)
        \]

        \underline{Conclusion}: \(\exists \operatorname{Aut}(L / K) = \mathscr{G}_K\)-equivariant isomorphism of groups \(\underline{\mu}_{p^{\infty}, R}(S) \xhookrightarrow{\sim} (\mathfrak{m}_S, \underset{\widehat{\mathbb{G}}_m}{+})\) where \(S = \mathcal{O}_L = \mathcal{O}_{\mathbb{C}_p}\). The map is \(\zeta \mapsto \zeta - 1 \in \mathfrak{m}_S\).
        
        Also, multiplication \(\leftrightarrow a\underset{\widehat{\mathbb{G}}_m}{+} b = a+b+ab\).
        
        This has more points than we would naively expect.

        Upshot: \(G(S)\) may not be a torsion group. In \(\widehat{\mathbb{G}}_m\) note that \([p^m](a) = (1+a)^{p^m} - 1\). \(1+a\) is not necessarily a root of unity!
        
        Similarly, \(G(S)\) might not be equal to \(\varinjlim G_\nu(S)\).

        In fact, the \(p^\nu\) torsion points \(G(S)[p^\nu] = \varprojlim_i (G(S / \varpi^i)[p^\nu])\).
        
        We have the exact sequence:

        \begin{center}
            \begin{tikzcd}
                0 \ar[r] & G_\nu \ar[r] & G_{\nu+\mu} \ar[r,"\text{[}p^\nu\text{]}"] & G_\nu \ar[r] & 0
            \end{tikzcd}
        \end{center}

        This induces,

        \begin{center}
            \begin{tikzcd}
                0 \ar[r] & G_\nu(S / \varpi&i) \ar[r] & G_{\nu+\mu}(S / \varpi^i) \ar[r,"\text{[}p^\nu\text{]}"] & G_\nu(S / \varpi^i) \ar[r] & 0
            \end{tikzcd}
        \end{center}

        Therefore, \(G_{\nu+\mu}(S / \varpi^i)[p^\nu] = G_\nu(S / \varpi^i)\)
        
        Note that \(G(S)[p^\nu] =  \varprojlim_i (G(S / \varpi^i)[p^\nu]) = \varprojlim_i G_\nu(S / \varpi^i)\).
        
        Thus, \(G(S / \varpi^i)[p^\nu] = \varprojlim_\mu G_{\mu} (S / \varpi^i)[p^\nu] = G_\nu(S / \varpi^i)\)
        
        \(= \varprojlim_i \operatorname{Hom}_{R\text{-alg}}(\mathcal{O}(G_\nu), S / \varpi^i) \hookrightarrow \operatorname{Hom}_{R\text{-alg}}(\mathcal{O}(G_\nu), \varprojlim_i S / \varpi^i)\)
        
        \(= \operatorname{Hom}_{R\text{-alg}}(\mathcal{O}(G_\nu),S) = G_\nu(S)\)
        
        This inclusion is bijective because \(\mathcal{O} (G_\nu)\) is a f.g. \(S\)-algebra. 

        Caution: \(\operatorname{Hom}_{R \text{-algs}}^{\text{cont}} (R[[x]], S) \neq \operatorname{Hom}_{R\text{-algs}}(R[[x]], S)\) where \(S\) is given the usual valuation topology and \(R[[x]]\) the topology defined by \((\varpi, x)\).
        
        Conclusion: \(G(S)[p^\nu] = G_\nu(S)\) hence the torsion subgroup \(G(S)_{\text{torsion}} = \varinjlim G_\nu(S)\).

        Also, if \(G\) is \'etale then \(G(S) = G(S)_{\text{torsion}}\) since the connected part of the group is trivial.
        
        If \(G\) is connected and \(F\) is the corresponding formal group then,
        
        \(G(\mathcal{O}_{\overline{K}^\wedge}) \xrightarrow[\mathscr{G}_K]{\cong} \left( \mathfrak{m}_{\mathcal{O}_{\overline{K}^\wedge}}^{\oplus n}, \underset{F}{+} \right) \)
        
        \(n = \dim G\).
    \end{proof}

    \(G(S)\) has all the information needed to define \(\Phi(G) = \bigcup_\nu G_\nu(S), T(G) \varprojlim_\nu G_\nu(S)\). But these are nicer.

    \(T(G)\) is something like \(\mathbb{Z}_p^h\).
    
    \(G(S)_{\text{torsion}} = \Phi(G)\) if \(S=\mathcal{O}_{\mathbb{C}_p}\). 

    \section*{Tuesday, 3/25/2025}
    
    Recall" \(R\) is a CDVR, \(k = R / \mathfrak{m}_R, K = \operatorname{Frac}(R), \operatorname{char}(k) = p\), we most often assume \(k\) is perfect. \(\varpi =\) uniformizer of \(R\).

    \(L =\) completion of a Galois extension of \(K\) inside \(\overline{K}\).

    \(S =\) valuation ring of \(L \supset \mathfrak{m}_S =\) maximal ideal of \(S\).

    Set \(G(S) = \varprojlim_i G(S / \varpi^i), G(S / \varpi^i) = \varinjlim_\nu G_\nu(S / \varpi^i)\)
    
    For example, \(G = \underline{\mu}_{p^{\infty} , R} \implies G(S) \cong 1 + \mathfrak{m}_S \supset \mu_{p^{\infty}}(\overline{K}) = G(S)_{\text{tors}}\). So \(G(S)\) in this case contains more than the torsion points.
    
    \textbf{Proposition.}

    \begin{enumerate}[label=\arabic*)]
        \item \(G(S)[p^{\nu}] = G_\nu (S)\), hence \(G(S)_{\text{tors}} = \varinjlim_\nu G_\nu(S)\).
        \item \(G\) \'etale \(\implies G(S) = G(S)_{\text{tors}}\).
        \item If \(G\) is commutative with associated formal group \(F = F(x_1, \cdots , x_n, y_1, \cdots , y_n)\) of \(\dim n\), then \(\exists \mathscr{G}_K (=\operatorname{Gal}(K^{\text{sep}} / K))\) equiv. isom. \(G(S) \cong (\mathfrak{m}_S^{\oplus n},\underset{F}{+})\). On \(G(S)\) the identity element is \(1\), but in \(\mathfrak{m}_S^{\oplus n}\) the identity element is \((0, \cdots , 0)\).
        \item If \(\dim (G^0) = n\) then \(\exists \mathscr{G}_K\)-equivariant exct sequence
        
        \[
            0 \to (\mathfrak{m}_S^{\oplus n},\underset{F}{+}) \to G(S) \to G^{\text{\'et}}(S) \to 0
        \]

        and \(G^{\text{\'et}} \cong (\mathbb{Q}_p / \mathbb{Z}_p)^{h^{\prime}}\) if \(L = \widehat{\overline{K}}\) and \(h^{\prime} = \text{height}(G^{\text{\'et}})\).   
    \end{enumerate} 

    \textbf{Proposition 2.2.4.1.} If \(k\) is perfect then \(G  \to G^{\text{\'et}}\) has a formal section in the sense that \(\mathcal{O}(G_\nu) \cong \mathcal{O} (G_{\nu}^{\text{\'et}}) \otimes_R \mathcal{O} (G_\nu^0)\) and these isom. can be chosen such that
    
    \[
        \varprojlim \mathcal{O} (G_\nu) \cong (\varprojlim \mathcal{O}(G_\nu^{\text{\'et}})) \widehat{\underset{R}{\otimes}} (\varprojlim \mathcal{O} (G_\nu^0))
    \]

    \[
        \cong A^{\text{\'et}} \widehat{\underset{R}{\otimes}} R[[x_1, \cdots , x_n]]
    \]

    \[
        \coloneqq \varprojlim_i \left( A^{\text{\'et}} \underset{R}{\otimes} R[[x_1, \cdots , x_n]] / (x_1, \cdots , x_n)^i \right) 
    \]

    The sequence

    \[
        0 \to G^0(S) \to G(S) \to G^{\text{\'et}}(S) \to 0 
    \]

    is exact.

    % end of prop

    \textbf{Corollary 2.2.4.2.} Assume \(k\) is perfect. \(\forall x\in G(S) \exists\) finite extension \(L^{\prime} / L\) and \(y\in G(S)\) such that \(x = [p](y)\).
    
    \begin{proof}
        (Sketch) Reduce to the case of a connected and an \'etale grup using 2.2.4.1. We check them individually.

        \'Etale case: we only need to enlarge the residue field \(k\). In other words, we replace \(L\) by an unramified extension (at most), simply because in this case \(G_{\nu}^{\text{\'et}} \underset{k}{\times} k \) over a finite  Galois extension \(k^{\prime} / k \implies G_\nu^{\text{\'et}} \underset{R}{\times} R^{\prime}\) is constant for an unramified extension \(R^{\prime}  / R\) with residue field \(k^{\prime}\).  

        Connected case:

        \begin{center}
            \begin{tikzcd}
                & x_i \ar[r, mapsto] & \text{[}p\text{]}_i(x_1, \cdots, x_n) \\

                \varprojlim_\nu \mathcal{O}(G_\nu) \ar[r, phantom, "\cong"] & R\text{[[} x_1, \cdots, x_n \text{]]} \ar[r, "\text{[}p\text{]}^\#"] \ar[d,"x_i\mapsto a_i \in \mathfrak{m}_S"] & R\text{[[} x_1, \cdots, x_n \text{]]} \ar[d]\\
                
                & S \ar[r, hook] & S^\prime = \mathcal{O}_{L^\prime}

            \end{tikzcd}
        \end{center}

        Here \(R[[x_1, \cdots , x_n]] =\) finitely generated module over \(R[[x_1, \cdots , x_n]]\), use the theory of integral extensions. 
    \end{proof}

    \textbf{Corollary 2.2.4.3.} If \(L\) is algebraically closed (eg \(\operatorname{char} (K) = 0, L = \widehat{\overline{K}}\)) then \(G(S)\) is divisible, ie \(\forall n\in \mathbb{Z}_{>0}\), the multiplication-by-\(n\) map on \(G(S)\) is surjective.
    
    \begin{proof}
        If \(p\nmid n\) then \([n]_{G_\nu}: G_\nu \to G_\nu\) is an isomorphism: choose \(m\) such that \(m \cdot n \equiv 1(p^\nu)\) then \([n]: G(S) \implies G(S)\) is an isomorphism.

        2.2.4.2 \(\implies\) multiplication by \(p\) is surjective \(\implies\) multiplication by \(p^m\) is surjective.
    \end{proof}

    \underline{The logarithm} From now on we assume \(\operatorname{char} (K)=0\) and \(k\) is separable.

    \begin{definition}
        The \underline{tangent space} \(t_G\) of \(G\) is defined to be the tangent space of the formal group \(F\) associated to \(G\) [which is the same as the formal group associated to \(G^0\), the connected component].

        If \(A_\nu^0 = \mathcal{O} (G^0_\nu)\) and \(A^0 \coloneqq \varprojlim A^0_\nu \cong R[[x_1, \cdots , x_n]] \supset U^0 \coloneqq (x_1, \cdots , x_n) = \ker (\varepsilon: A^0 \to R)\). We have \(\operatorname{Spec}(R)  \xrightarrow{e_{G^0_\nu}} G_\nu^0\). Corrrespondingly, we have \(R \xleftarrow{\varepsilon_{G_\nu^0}} A^0_\nu\) and also the zero section \(R\xleftarrow{\varepsilon} A^0\).
        
        Choosing the coordinates is non-canonical!

        Then, \(t_G = \operatorname{Hom}_R (I^0 / (I^0)^2, R)\). This is sometimes called the Zariski tangent space.
    \end{definition}

    \begin{remark}
        \begin{enumerate}[label=\arabic*)]
            \item If \(A\) is any ring and \(P\in \operatorname{Spec} (A) \eqqcolon X\) then the Zariski tangent space of \(X\) at \(P\) is defined to be \(\operatorname{Hom}_{k_P}(P A_P / (P A_P)^2, k_P)\) where \(k_P = A_P / P A_P = \operatorname{Frac} (A / P)\).
            \item \(\exists\) canonical isomorphism \(t_G(L) \xrightarrow{\sim} \operatorname{Der}_R(A^0, L)\)
            
            \( = \left\{ \tau : A^0 \to L \mid \tau \text{ is \(R\)-linear, \(\forall f,g\in A^0: \tau (fg) = \varepsilon (f) \tau (g) + \varepsilon (g) \tau (f)\) }  \right\} \)     

            \(\implies \tau \in \operatorname{Der}_R(A^0, L)\) and \(f,g\in I^0 \implies \tau (fg) = \underset{=0}{\varepsilon (f)} \tau (g) + \underset{=0}{\varepsilon(g)} \tau (f) = 0\)
            
            \(\implies \eval{\tau}_{(I^0)^2} = 0\).
            
            Also: \(\tau (1) = \tau (1 \cdot 1) = 1 \cdot \tau (1) + \tau (1) \cdot 1 \implies 2 \tau (1) = \tau (1) \implies \tau (1) = 0\).

            \(\implies \forall a\in R: \tau (a) = 0 \implies \tau\) is uniquely determined by its restriction to \(I^0 / (I^0)^2\).

            Note that \(I^0 / (I^0)^2 = Rx_1 \oplus .\cdot \oplus Rx_n \cong R^{\oplus n}\).
            
            \(\implies \dim_L(t_G(L)) = \dim (F) = \dim (G)\).
        \end{enumerate} 
    \end{remark}

    Conclusion: Since \(I^0 / (I^0)^2 \cong R^{\oplus n} \implies \dim _L (t_G(L)) = \dim (F) = \dim (G)\) 

    \underline{The Logarithm Map} \(\log = \log_G : G(S) \to t_G(L)\) is defined by:

    \[
        \log (\underset{\in S}{a}) (\underset{\in A^0}{f}) \coloneqq \lim_{i \to \infty} \frac{f([p^i]_G(a)) - f(0)}{p^i}
    \]

    If \(f=x_j\) then \(f([p]^i(a)) \equiv [p^i]_j(\underset{=(a_1, \cdots , a_n) \in G^0(S) \cong \mathfrak{m}_S^{\oplus n}}{a}) = p^i (\text{linear term in }a_k) + p^{2i} \text{higher order terms}\)
    
    So the limit exists in this case.

    \underline{Note}:

    \begin{enumerate}[label=\arabic*)]
        \item  For \(a\in G^{\text{\'et}}(S)\) one has \(p^i a = 0\) for \(i \gg 0\). Hence \(p^i a \in G^0(S)\). 
        \item If \(G\) is \'etale then \(t_G(L) = 0\) and \(\log\) is the zeron map.
        \item \(G(S)\) is a \(\mathbb{Z}_p\)-module: if \(n_j \in \mathbb{Z}\) converges \(p\)-adically to \(n\in \mathbb{Z}_p\) then \(\forall a\in G(S): n_j \cdot a\) converges in \(G(S) = \varprojlim G(\underbrace{S / \varpi^i}_{\text{equipped with discrete top}})\)
    \end{enumerate} 

\end{document}